(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28e4c589"],{"26c1":function(t,e,a){"use strict";a("381d")},"381d":function(t,e,a){},"53ce":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hhy-container"},[a("PageWrap",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"hhy-table",attrs:{height:e.contentHeight+30,data:t.tableDataList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),a("el-table-column",{attrs:{label:"产品","min-width":"65"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("el-image",{staticStyle:{width:"60px",height:"60px"},attrs:{src:e.productImg,"preview-src-list":[e.productImg]}})]}}],null,!0)}),a("el-table-column",{attrs:{label:"名称",prop:"productName","min-width":"100","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"状态","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("el-tag",{attrs:{type:t._f("statusFilter")(o.status)}},[t._v(t._s(o.status))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"成衣","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("el-tag",{attrs:{effect:"dark",type:t._f("readyToWearFilter")(o.readyToWear)}},[t._v(t._s(o.readyToWear))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"候选工厂","min-width":"300","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("div",{staticClass:"candidateFactories_wrap"},t._l(o.candidateFactories,(function(e,i){return a("p",{key:i},[a("el-tag",{attrs:{closable:""},on:{close:function(e){return t.handleCloseTag(i,o)}}},[t._v(t._s(e.name))]),a("el-popover",{attrs:{"popper-class":"CandidateFactories_popper",placement:"top",trigger:"hover"}},[a("div",{staticClass:"content"},[a("span",{staticClass:"tit"},[t._v("选用版式")]),e.format.length>0?a("div",t._l(e.format,(function(e,o){return a("el-tag",{key:o,staticClass:"selFormat"},[t._v(t._s(e.name))])})),1):a("div",[t._v("你还没有选用版型")])]),e.format.length>0?a("el-link",{attrs:{slot:"reference",type:"primary",icon:"el-icon-s-operation"},on:{click:function(e){return t.openSelectFactoryVersion(o)}},slot:"reference"},[t._v("管理版式")]):a("el-link",{attrs:{slot:"reference",type:"primary",icon:"el-icon-plus"},on:{click:function(e){return t.openSelectFactoryVersion(o)}},slot:"reference"},[t._v("添加版式")])],1)],1)})),0)]}}],null,!0)}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"420"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("el-button",{attrs:{icon:"el-icon-s-operation",type:"primary"},on:{click:function(e){return t.handleSelFactory(o)}}},[t._v("分配工厂")]),a("el-button",{attrs:{icon:"el-icon-edit",type:"warning"},on:{click:function(e){return t.handleProcess(o)}}},[t._v("工艺参数")]),a("el-button",{attrs:{icon:"el-icon-reading",type:"success"},on:{click:function(e){return t.handleVolume(o)}}},[t._v("量体参数")]),"已禁用"==o.status?a("el-button",{attrs:{icon:"el-icon-turn-off",type:"info"},on:{click:function(e){return t.handleEnable(o)}}},[t._v("启用")]):t._e(),"已启用"==o.status?a("el-button",{attrs:{icon:"el-icon-open",type:"danger"},on:{click:function(e){return t.handleDisable(o)}}},[t._v("禁用")]):t._e()]}}],null,!0)})],1)]}}])}),a("el-dialog",{attrs:{title:"选择工厂",top:"8vh",visible:t.SelectFactoryDialog.visible,width:"850px"},on:{"update:visible":function(e){return t.$set(t.SelectFactoryDialog,"visible",e)},closed:t.closeSelectFactoryDialog}},[a("div",[a("div",{staticClass:"SelectFactoryDialogSearch"},[a("el-input",{attrs:{placeholder:"输入工厂名称",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.SelectFactoryDialogSearch(e)}},model:{value:t.SelectFactoryDialog.Search,callback:function(e){t.$set(t.SelectFactoryDialog,"Search",e)},expression:"SelectFactoryDialog.Search"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:t.SelectFactoryDialogSearch},slot:"append"})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.SelectFactoryDialog.tableLoading,expression:"SelectFactoryDialog.tableLoading"}],staticClass:"hhy-table",attrs:{height:"350px",data:t.SelectFactoryDialog.TableList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{label:"ID",prop:"ID"}}),a("el-table-column",{attrs:{label:"工厂","min-width":"100",prop:"Factory","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"联系人","min-width":"100",prop:"Contacts","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"联系电话","min-width":"110",prop:"Phone"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[a("el-button",{attrs:{type:"primary",disabled:o.isSelect},on:{click:function(e){return t.selFactory(o)}}},[t._v(t._s(o.isSelect?"已选择":"选择"))])]}}])})],1)],1)]),a("el-dialog",{attrs:{title:"选择工厂版型",top:"8vh",visible:t.SelectFactoryVersionDialog.visible,width:"850px"},on:{"update:visible":function(e){return t.$set(t.SelectFactoryVersionDialog,"visible",e)},closed:t.closeSelectFactoryVersionDialog}},[a("el-form",{ref:"SelectFactoryVersionRef",attrs:{model:t.SelectFactoryVersionDialog.Form,inline:!1,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"选择版型",prop:"selBx"}},[0==t.SelectFactoryVersionDialog.selBxList.length?a("span",[t._v(t._s(t.SelectFactoryVersionDialog.tips))]):a("el-checkbox-group",{model:{value:t.SelectFactoryVersionDialog.Form.selBx,callback:function(e){t.$set(t.SelectFactoryVersionDialog.Form,"selBx",e)},expression:"SelectFactoryVersionDialog.Form.selBx"}},t._l(t.SelectFactoryVersionDialog.selBxList,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.name}})})),1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.SelectFactoryVersionDialog.visible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:function(e){return t.handleSelectFactoryVersion("SelectFactoryVersionRef")}}},[t._v("确 定")])],1)],1)],1)},i=[],l=(a("a434"),{name:"CustomizedProducts",data:function(){return{tableLoading:!1,submitLoading:!1,tableDataList:[],SelectFactoryDialog:{visible:!1,Search:"",tableLoading:!1,TableList:[]},SelectFactoryVersionDialog:{visible:!1,tips:"工厂没有配置版型",selBxList:[],Form:{selBx:["(YZ-Z01-1)7C"]}}}},filters:{statusFilter:function(t){var e={"已启用":"success","已禁用":"info"};return e[t]},readyToWearFilter:function(t){var e={"需要设计":"primary","无需设计":"info"};return e[t]}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.tableLoading=!0,setTimeout((function(){t.tableDataList=[{id:1,productImg:"https://www.fabrics-buy.com/API_Upload/Images/Factory/FabricStock/20210826171323_4642.jpg",productName:"西服",status:"已启用",readyToWear:"需要设计",candidateFactories:[{name:"北京工厂",format:[]},{name:"天津工厂",format:[{name:"(YZ-Z01-1)6C"},{name:"(YZ-Z01-1)7C"},{name:"(YZ-Z01-1)7C"},{name:"(YZ-Z01-1)7C"}]},{name:"邯郸工厂",format:[{name:"A"},{name:"B"}]}]},{id:2,productImg:"https://www.fabrics-buy.com/API_Upload/Images/Factory/FabricStock/20210826171323_4642.jpg",productName:"衬衫",status:"已禁用",readyToWear:"需要设计",candidateFactories:[{name:"北京工厂",format:[]}]},{id:3,productImg:"https://www.fabrics-buy.com/API_Upload/Images/Factory/FabricStock/20210826171323_4642.jpg",productName:"衬衫",status:"已禁用",readyToWear:"无需设计",candidateFactories:[{name:"北京工厂",format:[]}]}],t.tableLoading=!1}),500)},handleCloseTag:function(t,e){var a=this;this.$confirm("确认删除制造工厂吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.candidateFactories.splice(t,1),a.$message.success("删除成功"),a.initData()})).catch((function(){}))},openSelectFactoryVersion:function(t){var e=this;this.SelectFactoryVersionDialog.visible=!0,this.SelectFactoryVersionDialog.tips="加载中...",setTimeout((function(){e.SelectFactoryVersionDialog.selBxList=[{id:1,name:"(YZ-Z01-1)8C"},{id:2,name:"(YZ-Z01-1)7C"},{id:3,name:"(YZ-Z01-1)6C"}],e.SelectFactoryVersionDialog.tips="工厂没有配置版型"}),500)},handleSelectFactoryVersion:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.submitLoading=!0,setTimeout((function(){e.SelectFactoryVersionDialog.visible=!1,e.submitLoading=!1,e.$message.success("操作成功"),e.initData()}),500)}))},closeSelectFactoryVersionDialog:function(){this.$refs["SelectFactoryVersionRef"].resetFields(),this.SelectFactoryVersionDialog.selBxList=[]},handleSelFactory:function(t){this.SelectFactoryDialog.visible=!0,this.getSelFactoryData()},SelectFactoryDialogSearch:function(){this.getSelFactoryData()},getSelFactoryData:function(){var t=this;this.SelectFactoryDialog.tableLoading=!0,setTimeout((function(){t.SelectFactoryDialog.TableList=[{ID:56,Factory:"北京工厂",Contacts:"张三丰",Phone:"13011053225",isSelect:!1},{ID:78,Factory:"上海工厂",Contacts:"张三丰",Phone:"13011053225",isSelect:!0},{ID:33,Factory:"天津工厂",Contacts:"张三丰",Phone:"13011053225",isSelect:!1},{ID:63,Factory:"南京工厂",Contacts:"张三丰",Phone:"13011053225",isSelect:!1},{ID:45,Factory:"山东工厂",Contacts:"张三丰",Phone:"13011053225",isSelect:!1}],t.SelectFactoryDialog.tableLoading=!1}),500)},selFactory:function(t){t.isSelect=!0},closeSelectFactoryDialog:function(){this.initData()},handleProcess:function(t){this.$router.push({name:"processParams",params:{id:t.id},query:{name:t.productName}})},handleVolume:function(t){this.$router.push({name:"volumeParams",params:{id:t.id},query:{name:t.productName}})},handleEnable:function(t){t.status="已启用",this.$message.success("操作成功"),this.initData()},handleDisable:function(t){t.status="已禁用",this.$message.success("操作成功"),this.initData()}}}),n=l,r=(a("b9b9"),a("26c1"),a("2877")),c=Object(r["a"])(n,o,i,!1,null,"2b09ddd8",null);e["default"]=c.exports},b9b9:function(t,e,a){"use strict";a("efd2")},efd2:function(t,e,a){}}]);