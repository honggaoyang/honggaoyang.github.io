(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b50f499"],{"02f8":function(t,e,o){"use strict";o("aa7e")},"0c90":function(t,e,o){"use strict";o.r(e);var l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hhy-container"},[o("PageWrap",{scopedSlots:t._u([{key:"pageTop",fn:function(){return[o("el-form",{ref:"searchForm",staticClass:"hhy-card hhy-topSearch-box",attrs:{inline:"",model:t.searchForm}},[o("el-form-item",{attrs:{label:"下单时间",prop:"OrderTime"}},[o("el-date-picker",{staticStyle:{width:"250px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchForm.OrderTime,callback:function(e){t.$set(t.searchForm,"OrderTime",e)},expression:"searchForm.OrderTime"}})],1),o("el-form-item",{attrs:{label:"结算状态",prop:"SettlementStatus"}},[o("el-select",{attrs:{placeholder:"结算状态"},model:{value:t.searchForm.SettlementStatus,callback:function(e){t.$set(t.searchForm,"SettlementStatus",e)},expression:"searchForm.SettlementStatus"}},t._l(t.SettlementStatusList,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"定制顾问",prop:"CustomizedConsultant"}},[o("el-select",{attrs:{placeholder:"定制顾问"},model:{value:t.searchForm.CustomizedConsultant,callback:function(e){t.$set(t.searchForm,"CustomizedConsultant",e)},expression:"searchForm.CustomizedConsultant"}},t._l(t.CustomizedConsultantList,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"制衣单号",prop:"OrderNumber"}},[o("el-input",{attrs:{clearable:"",placeholder:"制衣单号"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initData(e)}},model:{value:t.searchForm.OrderNumber,callback:function(e){t.$set(t.searchForm,"OrderNumber",e)},expression:"searchForm.OrderNumber"}})],1),o("el-form-item",{attrs:{label:"制作内容",prop:"ProductContents"}},[o("el-select",{attrs:{placeholder:"制作内容"},model:{value:t.searchForm.ProductContents,callback:function(e){t.$set(t.searchForm,"ProductContents",e)},expression:"searchForm.ProductContents"}},t._l(t.ProductContentsList,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"客户名称",prop:"CustomerName"}},[o("el-input",{attrs:{clearable:"",placeholder:"客户名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initData(e)}},model:{value:t.searchForm.CustomerName,callback:function(e){t.$set(t.searchForm,"CustomerName",e)},expression:"searchForm.CustomerName"}})],1),o("el-form-item",{attrs:{label:"门店",prop:"Store"}},[o("el-select",{attrs:{placeholder:"门店"},model:{value:t.searchForm.Store,callback:function(e){t.$set(t.searchForm,"Store",e)},expression:"searchForm.Store"}},t._l(t.StoreList,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"工厂",prop:"Factory"}},[o("el-select",{attrs:{placeholder:"工厂"},model:{value:t.searchForm.Factory,callback:function(e){t.$set(t.searchForm,"Factory",e)},expression:"searchForm.Factory"}},t._l(t.FactoryList,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"面料商",prop:"FabricMerchant"}},[o("el-select",{attrs:{placeholder:"面料商"},model:{value:t.searchForm.FabricMerchant,callback:function(e){t.$set(t.searchForm,"FabricMerchant",e)},expression:"searchForm.FabricMerchant"}},t._l(t.FabricMerchantList,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"制作内容",prop:"ProductContentsTwo"}},[o("el-select",{attrs:{placeholder:"制作内容"},model:{value:t.searchForm.ProductContentsTwo,callback:function(e){t.$set(t.searchForm,"ProductContentsTwo",e)},expression:"searchForm.ProductContentsTwo"}},t._l(t.ProductContentsTwoList,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),o("el-form-item",[o("el-button",{staticClass:"hhy-search-btn",attrs:{type:"primary",round:""},on:{click:t.initData}},[t._v("查询")]),o("el-button",{staticClass:"hhy-reset-btn",attrs:{type:"danger",round:""},on:{click:function(e){return t.resetSearchForm("searchForm")}}},[t._v("重置")])],1)],1)]},proxy:!0},{key:"tableMenuBtn",fn:function(){return[o("div",{staticClass:"tableMenuBtn"},[o("div",{staticClass:"total"},[o("span",[t._v("总单量: 20")]),o("span",[t._v("总结算: ¥74527.25")]),o("span",[t._v("已结算: ¥40111.05")]),o("span",[t._v("未结算: ¥34416.20")])]),o("div",[o("el-button",{attrs:{type:"primary",loading:t.downloadLoading,icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v("导出 Excel")])],1)])]},proxy:!0},{key:"default",fn:function(e){return[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"hhy-table",attrs:{height:e.contentHeight,data:t.tableDataList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[o("el-table-column",{attrs:{type:"index",label:"序号",index:t.indexMethod}}),o("el-table-column",{attrs:{label:"制衣单号","min-width":"250","show-overflow-tooltip":"",prop:"a"}}),o("el-table-column",{attrs:{label:"制作内容","min-width":"120","show-overflow-tooltip":"",prop:"b"}}),o("el-table-column",{attrs:{label:"顾客","min-width":"120","show-overflow-tooltip":"",prop:"c"}}),o("el-table-column",{attrs:{label:"门店","min-width":"120","show-overflow-tooltip":"",prop:"d"}}),o("el-table-column",{attrs:{label:"顾问","min-width":"120","show-overflow-tooltip":"",prop:"e"}}),o("el-table-column",{attrs:{label:"下单时间","min-width":"120","show-overflow-tooltip":"",prop:"f"}}),o("el-table-column",{attrs:{label:"收款方式","min-width":"120","show-overflow-tooltip":"",prop:"g"}}),o("el-table-column",{attrs:{label:"进店渠道","min-width":"120","show-overflow-tooltip":"",prop:"h"}}),o("el-table-column",{attrs:{label:"交付时间(客户)","min-width":"120","show-overflow-tooltip":"",prop:"i"}}),o("el-table-column",{attrs:{label:"面料品牌","min-width":"120","show-overflow-tooltip":"",prop:"j"}}),o("el-table-column",{attrs:{label:"面料货号","min-width":"120","show-overflow-tooltip":"",prop:"k"}}),o("el-table-column",{attrs:{label:"面料单价(元/米)","min-width":"120","show-overflow-tooltip":"",prop:"l"}}),o("el-table-column",{attrs:{label:"面料数量(米)","min-width":"120","show-overflow-tooltip":"",prop:"m"}}),o("el-table-column",{attrs:{label:"面料价格(合计)","min-width":"120","show-overflow-tooltip":"",prop:"n"}}),o("el-table-column",{attrs:{label:"制作工厂","min-width":"120","show-overflow-tooltip":"",prop:"o"}}),o("el-table-column",{attrs:{label:"收费工艺项","min-width":"120","show-overflow-tooltip":"",prop:"p"}}),o("el-table-column",{attrs:{label:"工艺费","min-width":"120","show-overflow-tooltip":"",prop:"q"}}),o("el-table-column",{attrs:{label:"流程修改项","min-width":"120","show-overflow-tooltip":"",prop:"r"}}),o("el-table-column",{attrs:{label:"流程修改费","min-width":"120","show-overflow-tooltip":"",prop:"s"}}),o("el-table-column",{attrs:{label:"制作价格(合计)","min-width":"120","show-overflow-tooltip":"",prop:"t"}}),o("el-table-column",{attrs:{label:"成本总计(元)","min-width":"120","show-overflow-tooltip":"",prop:"u"}}),o("el-table-column",{attrs:{label:"产品售价(元)","min-width":"120","show-overflow-tooltip":"",prop:"v"}}),o("el-table-column",{attrs:{label:"实收价格(元)","min-width":"120","show-overflow-tooltip":"",prop:"w"}}),o("el-table-column",{attrs:{label:"制衣单状态","min-width":"100",fixed:"right",prop:"x"}}),o("el-table-column",{attrs:{label:"结算状态","min-width":"100",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[o("el-tag",{attrs:{effect:"dark",type:t._f("statusFilter")(l.y)}},[t._v(t._s(l.y))])]}}],null,!0)}),o("el-table-column",{attrs:{label:"总结算费","min-width":"100",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return["待结算"==l.y?o("el-link",{attrs:{type:"danger"},on:{click:function(e){return t.handleSettlement(l)}}},[t._v(t._s(l.z))]):o("span",[t._v(t._s(l.z))])]}}],null,!0)})],1)]}},{key:"tablePagination",fn:function(){return[o("myPagination",{attrs:{pager:t.pager},on:{query:t.initData}})]},proxy:!0}])}),o("el-dialog",{attrs:{title:"结算",visible:t.settlementDialog,width:"30%"},on:{"update:visible":function(e){t.settlementDialog=e},closed:t.closeSettlementDialog}},[o("div",[o("div",[o("span",[t._v("这是一段信息")])])]),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.settlementDialog=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.settlementDialog=!1}}},[t._v("确 定")])],1)])],1)},a=[],r=(o("d3b7"),o("3ca3"),o("ddb0"),o("d81d"),{name:"StoreIncomeSettlement",data:function(){return{SettlementStatusList:[{id:1,name:"全部"},{id:2,name:"已结算"},{id:3,name:"待结算"}],CustomizedConsultantList:[{id:1,name:"全部"},{id:2,name:"张无忌"}],ProductContentsList:[{id:1,name:"全部"},{id:2,name:"定制"}],StoreList:[{id:1,name:"全部"},{id:2,name:"北京店"}],FactoryList:[{id:1,name:"全部"},{id:2,name:"北京工厂店"}],FabricMerchantList:[{id:1,name:"全部"},{id:2,name:"北京面料"}],ProductContentsTwoList:[{id:1,name:"全部"},{id:2,name:"大衣"}],searchForm:{OrderTime:"",SettlementStatus:1,CustomizedConsultant:1,OrderNumber:"",ProductContents:1,CustomerName:"",Store:1,Factory:1,FabricMerchant:1,ProductContentsTwo:1},downloadLoading:!1,tableLoading:!1,tableDataList:[],pager:{count:100,page:1,rows:15,checkNum:0},settlementDialog:!1}},filters:{statusFilter:function(t){var e={"已结算":"success","待结算":"danger"};return e[t]}},created:function(){this.initData()},methods:{resetSearchForm:function(t){this.$refs[t].resetFields()},initData:function(){var t=this;this.tableLoading=!0,setTimeout((function(){t.tableDataList=[{id:1,a:"WZNJ09883230714135239-1",b:"西服",c:"Tom",d:"邯郸店",e:"李敏",f:"2023-07-14",g:"支付宝",h:"百度",i:"2023-07-12",j:"世佳宝",k:"NB123",l:"889.00",m:"3.00",n:"299.00",o:"测试工厂",p:"西服-制作工艺-半麻衬: ¥1000.00",q:"¥1000.00",r:"",s:"￥200.00",t:"¥10000.00",u:"¥12667.00",v:"¥11048.40",w:"¥11048.40",x:"已完成",y:"待结算",z:"¥7981.40"},{id:2,a:"WZNJ09883230714135239-1",b:"西服",c:"Tom",d:"邯郸店",e:"李敏",f:"2023-07-14",g:"支付宝",h:"百度",i:"2023-07-12",j:"世佳宝",k:"NB123",l:"889.00",m:"3.00",n:"299.00",o:"测试工厂",p:"西服-制作工艺-半麻衬: ¥1000.00",q:"¥1000.00",r:"",s:"￥200.00",t:"¥10000.00",u:"¥12667.00",v:"¥11048.40",w:"¥11048.40",x:"已完成",y:"已结算",z:"¥7981.40"},{id:3,a:"WZNJ09883230714135239-1",b:"西服",c:"Tom",d:"邯郸店",e:"李敏",f:"2023-07-14",g:"支付宝",h:"百度",i:"2023-07-12",j:"世佳宝",k:"NB123",l:"889.00",m:"3.00",n:"299.00",o:"测试工厂",p:"西服-制作工艺-半麻衬: ¥1000.00",q:"¥1000.00",r:"",s:"￥200.00",t:"¥10000.00",u:"¥12667.00",v:"¥11048.40",w:"¥11048.40",x:"已完成",y:"待结算",z:"¥7981.40"},{id:4,a:"WZNJ09883230714135239-1",b:"西服",c:"Tom",d:"邯郸店",e:"李敏",f:"2023-07-14",g:"支付宝",h:"百度",i:"2023-07-12",j:"世佳宝",k:"NB123",l:"889.00",m:"3.00",n:"299.00",o:"测试工厂",p:"西服-制作工艺-半麻衬: ¥1000.00",q:"¥1000.00",r:"",s:"￥200.00",t:"¥10000.00",u:"¥12667.00",v:"¥11048.40",w:"¥11048.40",x:"已完成",y:"已结算",z:"¥7981.40"},{id:5,a:"WZNJ09883230714135239-1",b:"西服",c:"Tom",d:"邯郸店",e:"李敏",f:"2023-07-14",g:"支付宝",h:"百度",i:"2023-07-12",j:"世佳宝",k:"NB123",l:"889.00",m:"3.00",n:"299.00",o:"测试工厂",p:"西服-制作工艺-半麻衬: ¥1000.00",q:"¥1000.00",r:"",s:"￥200.00",t:"¥10000.00",u:"¥12667.00",v:"¥11048.40",w:"¥11048.40",x:"已完成",y:"已结算",z:"¥7981.40"}],t.tableLoading=!1}),500)},indexMethod:function(t){return(this.pager.page-1)*this.pager.rows+t+1},handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([o.e("chunk-6e83591c"),o.e("chunk-433e0a57"),o.e("chunk-ed7777ae")]).then(o.bind(null,"8530")).then((function(e){var o=["序号","制衣单号","制作内容","顾客","门店","顾问","下单时间","收款方式","进店渠道","交付时间(客户)","面料品牌","面料货号","面料单价(元/米)","面料数量(米)","面料价格(合计)","制作工厂","收费工艺项","工艺费","流程修改项","流程修改费","制作价格(合计)","成本总计(元)","产品售价(元)","实收价格(元)","制衣单状态","结算状态","总结算费"],l=["id","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a=t.tableDataList,r=t.formatJson(l,a);e.export_json_to_excel({header:o,data:r,filename:"门店收入结算",autoWidth:!0,bookType:"xlsx"}),t.downloadLoading=!1})).catch((function(e){t.$message.error("导出Excel失败"),t.downloadLoading=!1}))},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))},handleSettlement:function(t){this.settlementDialog=!0},closeSettlementDialog:function(){}}}),n=r,i=(o("02f8"),o("2877")),s=Object(i["a"])(n,l,a,!1,null,"1a2a53a0",null);e["default"]=s.exports},aa7e:function(t,e,o){}}]);