(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-665680ca"],{"080d":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hhy-container"},[i("PageWrap",{scopedSlots:t._u([{key:"tableMenuBtn",fn:function(){return[i("div",{staticClass:"tableMenuBtn"},[i("div",{staticClass:"hhy-tips"},[i("p",[t._v(t._s(t.productName)+" - 工艺参数")])]),i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleAddProcess}},[t._v("添加")])],1)]},proxy:!0},{key:"default",fn:function(e){return[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"hhy-table dragTable",attrs:{"row-key":"id",height:e.contentHeight+30,data:t.tableDataList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),i("el-table-column",{attrs:{label:"名称",prop:"name","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"类型",prop:"type"}}),i("el-table-column",{attrs:{label:"成本",prop:"cost"}}),i("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[i("el-tag",{attrs:{type:t._f("statusFilter")(o.status)}},[t._v(t._s(o.status))])]}}],null,!0)}),i("el-table-column",{attrs:{label:"创建时间",prop:"createTime","min-width":"200","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[i("el-button",{attrs:{icon:"el-icon-edit",type:"warning"},on:{click:function(e){return t.handleEditProcess(o)}}},[t._v("编辑")]),i("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(e){return t.handleProcessOption(o)}}},[t._v("浏览选项")]),"已禁用"==o.status?i("el-button",{attrs:{icon:"el-icon-turn-off",type:"success"},on:{click:function(e){return t.handleEnable(o)}}},[t._v("启用")]):t._e(),"已启用"==o.status?i("el-button",{attrs:{icon:"el-icon-open",type:"danger"},on:{click:function(e){return t.handleDisable(o)}}},[t._v("禁用")]):t._e(),i("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(e){return t.handleDelete(o)}}},[t._v("删除")])]}}],null,!0)})],1)]}}])}),i("el-dialog",{attrs:{title:t.editProcessDialog.title,top:"8vh",visible:t.editProcessDialog.visible,width:"550px"},on:{"update:visible":function(e){return t.$set(t.editProcessDialog,"visible",e)},closed:t.closeEditProcessDialog}},[i("el-form",{ref:"editProcessRef",staticClass:"editProcessDialog",attrs:{model:t.editProcessDialog.Form,inline:!1,rules:t.editProcessDialog.Rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"定制产品"}},[t._v(" "+t._s(t.productName)+" ")]),i("el-form-item",{attrs:{label:"工艺名称",prop:"technologyName"}},[i("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"输入工艺名"},model:{value:t.editProcessDialog.Form.technologyName,callback:function(e){t.$set(t.editProcessDialog.Form,"technologyName",e)},expression:"editProcessDialog.Form.technologyName"}})],1),i("el-form-item",{attrs:{label:"选项类型",prop:"optionType"}},[i("el-radio-group",{model:{value:t.editProcessDialog.Form.optionType,callback:function(e){t.$set(t.editProcessDialog.Form,"optionType",e)},expression:"editProcessDialog.Form.optionType"}},t._l(t.editProcessDialog.optionTypeList,(function(e){return i("el-radio",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])})),1)],1),i("el-form-item",{attrs:{label:"制作工费",prop:"costs"}},[i("el-input",{attrs:{maxlength:"8",placeholder:"输入制作工费",clearable:"",oninput:"this.value = this.value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g,'$1')"},model:{value:t.editProcessDialog.Form.costs,callback:function(e){t.$set(t.editProcessDialog.Form,"costs",e)},expression:"editProcessDialog.Form.costs"}})],1)],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.editProcessDialog.visible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:function(e){return t.handleSubmitEditProcess("editProcessRef")}}},[t._v("确 定")])],1)],1)],1)},s=[],a=(i("b0c0"),i("a434"),i("99af"),i("aa47")),n={name:"processParams",data:function(){return{submitLoading:!1,productName:"",ID:"",tableLoading:!1,tableDataList:[],editProcessDialog:{title:"",visible:!1,optionTypeList:[{id:1,name:"单行输入"},{id:2,name:"多行输入"},{id:3,name:"单选"},{id:4,name:"多选"}],Form:{technologyName:"",optionType:3,costs:""},Rules:{technologyName:[{required:!0,message:"请输入工艺名称",trigger:"blur"},{pattern:/\S+/,message:"请输入工艺名称",trigger:"blur"}]}}}},filters:{statusFilter:function(t){var e={"已启用":"success","已禁用":"info"};return e[t]}},created:function(){var t=this.$route.params&&this.$route.params.id;this.productName=this.$route.query.name,this.ID=t,this.$message.success("当前ID为".concat(t)),this.initData()},methods:{initData:function(){var t=this;this.tableLoading=!0,setTimeout((function(){t.tableDataList=[{id:1,name:"制作工艺",type:"单选",cost:"-",status:"已启用",createTime:"2023-11-12 12:12:12"},{id:2,name:"领型",type:"单选",cost:"-",status:"已禁用",createTime:"2023-11-12 12:12:12"}],t.tableLoading=!1,t.$nextTick((function(){t.setSort()}))}),500)},setSort:function(){var t=this,e=document.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];new a["a"](e,{ghostClass:"sortable-ghost",setData:function(t){t.setData("Text","")},onEnd:function(e){var i=t.tableDataList.splice(e.oldIndex,1)[0];t.tableDataList.splice(e.newIndex,0,i)}})},handleAddProcess:function(){this.editProcessDialog.title="新增定制工艺",this.editProcessDialog.visible=!0},handleEditProcess:function(t){this.editProcessDialog.title="编辑定制工艺",this.editProcessDialog.Form.technologyName=t.name,this.editProcessDialog.visible=!0},handleSubmitEditProcess:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.submitLoading=!0,setTimeout((function(){e.editProcessDialog.visible=!1,e.submitLoading=!1,e.$message.success("操作成功"),e.initData()}),500)}))},closeEditProcessDialog:function(){this.$refs["editProcessRef"].resetFields(),this.editProcessDialog.title=""},handleProcessOption:function(t){this.$router.push("/CustomizedProducts/processOption?id=".concat(t.id,"&name=").concat(t.name))},handleEnable:function(t){this.$message.success("操作成功"),this.initData()},handleDisable:function(t){var e=this;this.$confirm("禁用后，该工艺将不可使用，确认吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message.success("操作成功"),e.initData()})).catch((function(){}))},handleDelete:function(t){var e=this;this.$confirm("确认删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message.success("删除成功"),e.initData()})).catch((function(){}))}}},l=n,r=(i("cf2f"),i("3847"),i("2877")),c=Object(r["a"])(l,o,s,!1,null,"0863381a",null);e["default"]=c.exports},3847:function(t,e,i){"use strict";i("e91d")},b089:function(t,e,i){},cf2f:function(t,e,i){"use strict";i("b089")},e91d:function(t,e,i){}}]);