(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dba8cd1"],{"33ef":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hhy-container"},[n("PageWrap",{scopedSlots:t._u([{key:"tableMenuBtn",fn:function(){return[n("div",{staticClass:"tableMenuBtn"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleAddAccount}},[t._v("添加")])],1)]},proxy:!0},{key:"default",fn:function(e){return[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"hhy-table",attrs:{height:e.contentHeight+30,data:t.tableDataList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),n("el-table-column",{attrs:{label:"账号",prop:"Account","min-width":"300","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[n("div",{staticClass:"Account_wrap"},[n("span",[t._v(t._s(o.Account))]),n("div",{staticClass:"tag"},t._l(o.roleList,(function(e,o){return n("el-tag",{key:o},[t._v(t._s(e))])})),1)])]}}],null,!0)}),n("el-table-column",{attrs:{label:"用户号",prop:"UserID","min-width":"100","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"真实名",prop:"RealName","min-width":"100","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[n("el-tag",{attrs:{effect:"dark",type:t._f("statusFilter")(o.Status)}},[t._v(t._s(o.Status))])]}}],null,!0)}),n("el-table-column",{attrs:{label:"操作",width:"300",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return["已禁用"==o.Status?n("el-button",{attrs:{icon:"el-icon-turn-off",type:"success"},on:{click:function(e){return t.handleEnable(o)}}},[t._v("启用")]):t._e(),"已启用"==o.Status?n("el-button",{attrs:{icon:"el-icon-open",type:"danger"},on:{click:function(e){return t.handleDisable(o)}}},[t._v("禁用")]):t._e(),n("el-button",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(e){return t.handleEditAccount(o)}}},[t._v("编辑")]),n("el-button",{attrs:{icon:"el-icon-refresh",type:"warning"},on:{click:function(e){return t.handleReset(o)}}},[t._v("重置密码")])]}}],null,!0)})],1)]}}])}),n("el-dialog",{attrs:{title:t.AccountDialog.title,visible:t.AccountDialog.visible,width:"550px"},on:{"update:visible":function(e){return t.$set(t.AccountDialog,"visible",e)},closed:t.closeAccountDialog}},[n("el-form",{ref:"AccountDialogRef",attrs:{model:t.AccountDialog.Form,rules:t.AccountDialog.Rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"账号",prop:"Account"}},[n("el-input",{attrs:{maxlength:"30",disabled:t.AccountDialog.title.includes("编辑"),clearable:"",placeholder:"请输入账号"},model:{value:t.AccountDialog.Form.Account,callback:function(e){t.$set(t.AccountDialog.Form,"Account",e)},expression:"AccountDialog.Form.Account"}})],1),n("el-form-item",{attrs:{label:"真实名",prop:"RealName"}},[n("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"请输入真实名"},model:{value:t.AccountDialog.Form.RealName,callback:function(e){t.$set(t.AccountDialog.Form,"RealName",e)},expression:"AccountDialog.Form.RealName"}})],1),n("el-form-item",{attrs:{label:"角色",prop:"Role"}},[n("el-checkbox-group",{model:{value:t.AccountDialog.Form.Role,callback:function(e){t.$set(t.AccountDialog.Form,"Role",e)},expression:"AccountDialog.Form.Role"}},t._l(t.AccountDialog.RoleList,(function(t){return n("el-checkbox",{key:t.id,attrs:{label:t.name}})})),1)],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.AccountDialog.visible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:function(e){return t.handleSubmitAccount("AccountDialogRef")}}},[t._v("确 定")])],1)],1)],1)},a=[],i={name:"AccountManagement",data:function(){return{submitLoading:!1,tableLoading:!1,tableDataList:[],AccountDialog:{title:"",visible:!1,RoleList:[{id:1,name:"品牌操作员"},{id:2,name:"品牌财务"},{id:3,name:"品牌专员"},{id:4,name:"品牌下单专员"}],Form:{id:"",Account:"",RealName:"",Role:["品牌下单专员"]},Rules:{Account:[{required:!0,message:"请输入账号",trigger:"blur"},{pattern:/\S+/,message:"请输入账号",trigger:"blur"}],RealName:[{required:!0,message:"请输入真实名",trigger:"blur"},{pattern:/\S+/,message:"请输入真实名",trigger:"blur"}]}}}},filters:{statusFilter:function(t){var e={"已启用":"success","已禁用":"info"};return e[t]}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.tableLoading=!0,setTimeout((function(){t.tableDataList=[{id:1,Account:"admin",roleList:["品牌操作员","品牌财务","品牌专员"],UserID:"2342346",RealName:"张三丰",Status:"已启用"},{id:2,Account:"admin1",roleList:["品牌下单专员"],UserID:"2342346",RealName:"张三丰",Status:"已启用"},{id:3,Account:"admin2",roleList:["品牌操作员"],UserID:"2342346",RealName:"张三丰",Status:"已禁用"},{id:4,Account:"admin3",roleList:["品牌操作员"],UserID:"2342346",RealName:"张三丰",Status:"已禁用"},{id:5,Account:"admin4",roleList:["品牌操作员"],UserID:"2342346",RealName:"张三丰",Status:"已启用"}],t.tableLoading=!1}),500)},handleAddAccount:function(){this.AccountDialog.title="新增账号",this.AccountDialog.visible=!0},handleEditAccount:function(t){this.AccountDialog.title="编辑账号",this.AccountDialog.visible=!0,this.AccountDialog.Form={id:t.id,Account:t.Account,RealName:t.RealName,Role:t.roleList}},handleSubmitAccount:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.submitLoading=!0,setTimeout((function(){e.AccountDialog.visible=!1,e.submitLoading=!1,e.$message.success("操作成功"),e.initData()}),500)}))},closeAccountDialog:function(){this.$refs["AccountDialogRef"].resetFields(),this.AccountDialog.Form={id:"",Account:"",RealName:"",Role:["品牌下单专员"]}},handleEnable:function(t){this.$message.success("操作成功"),this.initData()},handleDisable:function(t){var e=this;this.$confirm("禁用后，账号不能再登录，确认吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message.success("操作成功"),e.initData()})).catch((function(){}))},handleReset:function(t){var e=this;this.$confirm("确定重置该账号的密码吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message.success("重置成功"),e.initData()})).catch((function(){}))}}},l=i,c=(n("d846"),n("2877")),s=Object(c["a"])(l,o,a,!1,null,"78f26b86",null);e["default"]=s.exports},"9f2d":function(t,e,n){},d846:function(t,e,n){"use strict";n("9f2d")}}]);