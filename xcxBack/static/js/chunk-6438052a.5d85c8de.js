(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6438052a"],{"14b1":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Form",{attrs:{"is-edit":!1}})},r=[],l=i("79b3"),n={name:"AddFinishedProduct",components:{Form:l["a"]}},a=n,s=i("2877"),c=Object(s["a"])(a,o,r,!1,null,null,null);e["default"]=c.exports},"49df":function(t,e,i){"use strict";i("e051")},"79b3":function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hhy-container"},[i("div",{staticClass:"hhy-card product_wrap"},[i("el-form",{ref:"FinishedProductRef",attrs:{model:t.FinishedProductForm,inline:!1,rules:t.FinishedProductRules,"label-width":"100px"}},[i("div",{staticClass:"hhy-tips"},[i("p",[t._v("基本信息")])]),i("el-form-item",{attrs:{label:"服装品类",prop:"Product"}},[i("el-select",{attrs:{placeholder:"请选择服装品类",filterable:"",clearable:""},model:{value:t.FinishedProductForm.Product,callback:function(e){t.$set(t.FinishedProductForm,"Product",e)},expression:"FinishedProductForm.Product"}},t._l(t.ProductList,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"成品名",prop:"FinishedProductName"}},[i("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"成品名是助记的名字"},model:{value:t.FinishedProductForm.FinishedProductName,callback:function(e){t.$set(t.FinishedProductForm,"FinishedProductName",e)},expression:"FinishedProductForm.FinishedProductName"}})],1),i("el-form-item",{attrs:{label:"促销标题",prop:"PromotionTitle"}},[i("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"在小程序上展示的成品标题"},model:{value:t.FinishedProductForm.PromotionTitle,callback:function(e){t.$set(t.FinishedProductForm,"PromotionTitle",e)},expression:"FinishedProductForm.PromotionTitle"}})],1),i("el-form-item",{attrs:{label:"成品货号",prop:"ArtNo"}},[i("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"编号是制衣单中携带的信息"},model:{value:t.FinishedProductForm.ArtNo,callback:function(e){t.$set(t.FinishedProductForm,"ArtNo",e)},expression:"FinishedProductForm.ArtNo"}})],1),i("el-form-item",{attrs:{label:"小程序预约",prop:"Reservation"}},[i("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:t.FinishedProductForm.Reservation,callback:function(e){t.$set(t.FinishedProductForm,"Reservation",e)},expression:"FinishedProductForm.Reservation"}})],1),i("el-form-item",{attrs:{label:"缩略图",prop:"ThumbnailUrl"}},[i("myUpload",{model:{value:t.FinishedProductForm.ThumbnailUrl,callback:function(e){t.$set(t.FinishedProductForm,"ThumbnailUrl",e)},expression:"FinishedProductForm.ThumbnailUrl"}})],1),i("el-form-item",{attrs:{label:"轮播图",prop:"SwiperUrl"}},[i("myUploadMore",{model:{value:t.FinishedProductForm.SwiperUrl,callback:function(e){t.$set(t.FinishedProductForm,"SwiperUrl",e)},expression:"FinishedProductForm.SwiperUrl"}})],1),i("div",{staticClass:"hhy-tips"},[i("p",[t._v("套装组合")])]),i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.openclothingDialog}},[t._v("添加成衣")]),i("el-table",{staticClass:"hhy-table",attrs:{height:"300",data:t.FinishedProductForm.clothingDataList,stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),i("el-table-column",{attrs:{label:"成衣","show-overflow-tooltip":"",prop:"title"}}),i("el-table-column",{attrs:{label:"货号","show-overflow-tooltip":"",prop:"artNo"}}),i("el-table-column",{attrs:{label:"价格",prop:"price"}}),i("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-popconfirm",{attrs:{title:"确定要删除吗？"},on:{confirm:function(i){return t.delSelColthing(e.row,e.$index)},onConfirm:function(i){return t.delSelColthing(e.row,e.$index)}}},[i("el-button",{attrs:{slot:"reference",icon:"el-icon-delete",type:"danger"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),i("div",{staticClass:"hhy-tips"},[i("p",[t._v("价格信息")])]),i("el-form-item",{attrs:{label:"售价",prop:"Price"}},[i("el-input",{attrs:{clearable:"",placeholder:"售价",oninput:"this.value = this.value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g,'$1')"},model:{value:t.FinishedProductForm.Price,callback:function(e){t.$set(t.FinishedProductForm,"Price",e)},expression:"FinishedProductForm.Price"}})],1),i("div",{staticClass:"hhy-tips"},[i("p",[t._v("图文详情")])]),i("el-form-item",{staticClass:"NoLabel",attrs:{prop:"ContentDetail"}},[i("Tinymce",{ref:"editor",attrs:{height:400},model:{value:t.FinishedProductForm.ContentDetail,callback:function(e){t.$set(t.FinishedProductForm,"ContentDetail",e)},expression:"FinishedProductForm.ContentDetail"}})],1),i("el-form-item",{staticClass:"footerBtn"},[i("el-button",{on:{click:function(e){return t.resetForm("FinishedProductRef")}}},[t._v("重置")]),i("el-button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:function(e){return t.submitForm("FinishedProductRef")}}},[t._v("提交")])],1)],1)],1),i("el-dialog",{attrs:{title:"添加成衣",top:"8vh",visible:t.clothingDialog.visible,width:"850px"},on:{"update:visible":function(e){return t.$set(t.clothingDialog,"visible",e)},closed:t.closeClothingDialog}},[i("div",[i("div",{staticClass:"clothingSearch_wrap"},[i("div",[i("el-input",{attrs:{placeholder:"输入货号",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getClothingData(e)}},model:{value:t.clothingDialog.gic,callback:function(e){t.$set(t.clothingDialog,"gic",e)},expression:"clothingDialog.gic"}},[i("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:t.getClothingData},slot:"append"})],1)],1),i("span",[t._v("选中"+t._s(t.currSelNumber)+"件")])]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.clothingDialog.loading,expression:"clothingDialog.loading"}],staticClass:"clothingCont_wrap",attrs:{"element-loading-text":"拼命加载中"}},[t._l(t.clothingDialog.dataList,(function(e){return i("div",{key:e.id,staticClass:"item",class:{active:e.isChecked},on:{click:function(t){e.isChecked=!e.isChecked}}},[i("el-image",{attrs:{src:e.imgUrl,fit:"cover"}}),i("div",{staticClass:"text"},[i("p",[t._v(t._s(e.title))]),i("p",[t._v("货号："+t._s(e.artNo))])])],1)})),i("i"),i("i"),i("i"),i("i")],2)]),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.clothingDialog.visible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:t.submitSelClothingData}},[t._v("确 定")])],1)])],1)},r=[],l=(i("4de4"),i("d3b7"),i("159b"),i("a434"),i("2a36")),n=i("2291"),a=i("8256"),s={components:{myUpload:l["a"],myUploadMore:n["a"],Tinymce:a["a"]},props:{isEdit:{type:Boolean,default:!1}},data:function(){return{ProductList:[{id:1,name:"上衣"},{id:2,name:"西裤"},{id:3,name:"马甲"}],submitLoading:!1,FinishedProductForm:{Product:"",FinishedProductName:"",PromotionTitle:"",ArtNo:"",Reservation:!0,ThumbnailUrl:"",SwiperUrl:[],clothingDataList:[],Price:"",ContentDetail:""},FinishedProductRules:{Product:[{required:!0,message:"请选择服装品类",trigger:"change"}],FinishedProductName:[{required:!0,message:"请输入成品名称",trigger:"blur"},{pattern:/\S+/,message:"请输入成品名称",trigger:"blur"}],ArtNo:[{required:!0,message:"请输入成品货号",trigger:"blur"},{pattern:/\S+/,message:"请输入成品货号",trigger:"blur"}],Price:[{required:!0,message:"请输入售价",trigger:"blur"}]},clothingList:[],clothingDialog:{visible:!1,gic:"",loading:!1,dataList:[]}}},created:function(){if(this.isEdit){var t=this.$route.params&&this.$route.params.id;this.$message.success("当前ID为".concat(t))}},computed:{currSelNumber:function(){return this.clothingDialog.dataList.filter((function(t){return t.isChecked})).length}},methods:{openclothingDialog:function(){this.clothingDialog.visible=!0,this.getClothingData()},getClothingData:function(){var t=this;this.clothingDialog.dataList=[],this.clothingDialog.loading=!0,setTimeout((function(){t.clothingDialog.dataList=[{id:1,imgUrl:"https://chenjiedingzhi.oss-cn-shanghai.aliyuncs.com/upload/ginger_image/1/2023_04_21_14_16_07.09604.jpg",isChecked:!1,price:"111.00",title:"修身西服2023春季新款修身西服2023春季新款",artNo:"xsxfcjxk"},{id:2,imgUrl:"https://chenjiedingzhi.oss-cn-shanghai.aliyuncs.com/upload/ginger_image/1/2023_04_21_14_16_07.09604.jpg",isChecked:!1,price:"222.00",title:"修身西服2023春季新款",artNo:"xsxfcjxk"},{id:3,imgUrl:"https://chenjiedingzhi.oss-cn-shanghai.aliyuncs.com/upload/ginger_image/1/2023_04_21_14_16_07.09604.jpg",isChecked:!1,price:"333.00",title:"修身西服2023春季新款",artNo:"xsxfcjxk"},{id:4,imgUrl:"https://chenjiedingzhi.oss-cn-shanghai.aliyuncs.com/upload/ginger_image/1/2023_04_21_14_16_07.09604.jpg",isChecked:!1,price:"123.00",title:"修身西服2023春季新款",artNo:"xsxfcjxk"},{id:5,imgUrl:"https://chenjiedingzhi.oss-cn-shanghai.aliyuncs.com/upload/ginger_image/1/2023_04_21_14_16_07.09604.jpg",isChecked:!1,price:"123.00",title:"修身西服2023春季新款",artNo:"xsxfcjxk"},{id:6,imgUrl:"https://chenjiedingzhi.oss-cn-shanghai.aliyuncs.com/upload/ginger_image/1/2023_04_21_14_16_07.09604.jpg",isChecked:!1,price:"123.00",title:"修身西服2023春季新款",artNo:"xsxfcjxk"}],t.clothingDialog.loading=!1}),500)},submitSelClothingData:function(){var t=this,e=this.clothingDialog.dataList.filter((function(t){return t.isChecked}));e.forEach((function(e){t.FinishedProductForm.clothingDataList.push(e)})),this.clothingDialog.visible=!1},closeClothingDialog:function(){},delSelColthing:function(t,e){this.FinishedProductForm.clothingDataList.splice(e,1)},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.submitLoading=!0,setTimeout((function(){e.$message.success("操作成功!"),e.submitLoading=!1,e.$store.dispatch("tagsView/delView",e.$route),e.$router.push({path:"/FinishedProductManagement/FinishedProductManage"})}),500)}))},resetForm:function(t){this.$refs[t].resetFields()}}},c=s,d=(i("49df"),i("f93a"),i("2877")),u=Object(d["a"])(c,o,r,!1,null,"7d41cb90",null);e["a"]=u.exports},cee1:function(t,e,i){},e051:function(t,e,i){},f93a:function(t,e,i){"use strict";i("cee1")}}]);