(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78f9d934"],{3152:function(t,e,o){},"90c7":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hhy-container"},[o("PageWrap",{scopedSlots:t._u([{key:"tableMenuBtn",fn:function(){return[o("div",{staticClass:"tableMenuBtn"},[o("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleAddSrore}},[t._v("添加门店")])],1)]},proxy:!0},{key:"default",fn:function(e){return[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"hhy-table",attrs:{height:e.contentHeight+15,data:t.tableDataList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"80",index:t.indexMethod}}),o("el-table-column",{attrs:{label:"门店","min-width":"120","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[o("div",{staticClass:"Store_wrap"},[o("span",[t._v(t._s(a.Store))]),o("div",{staticClass:"tag"},[o("el-tag",{attrs:{type:t._f("statusFilter")(a.Status)}},[t._v(t._s(a.Status))])],1)])]}}],null,!0)}),o("el-table-column",{attrs:{label:"管理账号",prop:"Accounts","min-width":"100","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"联系人",prop:"Contacts","min-width":"100","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"联系电话",prop:"Phone","min-width":"100","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"地址",prop:"Address","min-width":"150","show-overflow-tooltip":""}}),o("el-table-column",{attrs:{label:"操作",width:"400",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[o("el-button",{attrs:{icon:"el-icon-setting",plain:"",type:"primary"},on:{click:function(e){return t.handleSettingStore(a)}}},[t._v("配置门店")]),o("el-button",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(e){return t.handleEditSrore(a)}}},[t._v("编辑")]),"已禁用"==a.Status?o("el-button",{attrs:{icon:"el-icon-turn-off",type:"success"},on:{click:function(e){return t.handleEnable(a)}}},[t._v("启用")]):t._e(),"已启用"==a.Status?o("el-button",{attrs:{icon:"el-icon-open",type:"danger"},on:{click:function(e){return t.handleDisable(a)}}},[t._v("禁用")]):t._e(),o("el-button",{attrs:{icon:"el-icon-refresh",type:"warning"},on:{click:function(e){return t.handleReset(a)}}},[t._v("重置密码")])]}}],null,!0)})],1)]}},{key:"tablePagination",fn:function(){return[o("myPagination",{attrs:{pager:t.pager},on:{query:t.initData}})]},proxy:!0}])}),o("el-dialog",{attrs:{title:t.StoreDialog.title,top:"8vh",visible:t.StoreDialog.visible,width:"550px"},on:{"update:visible":function(e){return t.$set(t.StoreDialog,"visible",e)},closed:t.closeStoreDialog}},[o("el-form",{ref:"StoreDialogRef",attrs:{model:t.StoreDialog.Form,rules:t.StoreDialog.Rules,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"门店",prop:"Store"}},[o("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"请输入门店名称"},model:{value:t.StoreDialog.Form.Store,callback:function(e){t.$set(t.StoreDialog.Form,"Store",e)},expression:"StoreDialog.Form.Store"}})],1),o("el-form-item",{attrs:{label:"编码",prop:"Code"}},[o("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"门店编码用户产生订单号"},model:{value:t.StoreDialog.Form.Code,callback:function(e){t.$set(t.StoreDialog.Form,"Code",e)},expression:"StoreDialog.Form.Code"}})],1),o("el-form-item",{attrs:{label:"地址",prop:"Address"}},[o("el-input",{attrs:{maxlength:"100",clearable:"",placeholder:"输入地址"},model:{value:t.StoreDialog.Form.Address,callback:function(e){t.$set(t.StoreDialog.Form,"Address",e)},expression:"StoreDialog.Form.Address"}})],1),o("el-form-item",{attrs:{label:"经纬度",prop:"Location"}},[o("div",{staticClass:"location_wrap"},[o("div",{staticClass:"input"},[o("el-input",{attrs:{maxlength:"50",clearable:"",placeholder:"经度,纬度，例:118.793563,32.029724"},model:{value:t.StoreDialog.Form.Location,callback:function(e){t.$set(t.StoreDialog.Form,"Location",e)},expression:"StoreDialog.Form.Location"}})],1),o("div",{staticClass:"href"},[o("el-link",{attrs:{href:"https://lbs.amap.com/console/show/picker",target:"_blank",type:"primary"}},[t._v("去高德地图拾取坐标")])],1)])]),o("el-form-item",{attrs:{label:"联系人",prop:"Contacts"}},[o("el-input",{attrs:{maxlength:"10",clearable:"",placeholder:"请输入联系人"},model:{value:t.StoreDialog.Form.Contacts,callback:function(e){t.$set(t.StoreDialog.Form,"Contacts",e)},expression:"StoreDialog.Form.Contacts"}})],1),o("el-form-item",{attrs:{label:"联系电话",prop:"Phone"}},[o("el-input",{attrs:{maxlength:"11",clearable:"",placeholder:"请输入联系人电话",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.StoreDialog.Form.Phone,callback:function(e){t.$set(t.StoreDialog.Form,"Phone",e)},expression:"StoreDialog.Form.Phone"}})],1),o("el-form-item",{attrs:{label:"登录名",prop:"LoginName"}},[o("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"输入门店账号的登录名"},model:{value:t.StoreDialog.Form.LoginName,callback:function(e){t.$set(t.StoreDialog.Form,"LoginName",e)},expression:"StoreDialog.Form.LoginName"}})],1)],1),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.StoreDialog.visible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:function(e){return t.handleSubmitStore("StoreDialogRef")}}},[t._v("确 定")])],1)],1)],1)},r=[],i=(o("99af"),{name:"StoreManagement",data:function(){return{submitLoading:!1,tableLoading:!1,tableDataList:[],pager:{count:100,page:1,rows:15,checkNum:0},StoreDialog:{title:"",visible:!1,Form:{id:"",Store:"",Code:"",Address:"",Location:"",Contacts:"",Phone:"",LoginName:""},Rules:{Store:[{required:!0,message:"请输入门店名称",trigger:"blur"},{pattern:/\S+/,message:"请输入门店名称",trigger:"blur"}],Code:[{required:!0,message:"请输入门店编码",trigger:"blur"},{pattern:/\S+/,message:"请输入门店编码",trigger:"blur"}],Address:[{required:!0,message:"请输入门店地址",trigger:"blur"},{pattern:/\S+/,message:"请输入门店地址",trigger:"blur"}],Location:[{required:!0,message:"请输入门店经纬度",trigger:"blur"},{pattern:/\S+/,message:"请输入门店经纬度",trigger:"blur"}],Contacts:[{required:!0,message:"请输入门店联系人",trigger:"blur"},{pattern:/\S+/,message:"请输入门店联系人",trigger:"blur"}],Phone:[{required:!0,message:"请输入门店联系人电话",trigger:"blur"},{pattern:/^1[3|4|5|7|8][0-9]\d{8}$/,message:"请输入正确的手机号",trigger:"blur"}],LoginName:[{required:!0,message:"请输入门店登录名",trigger:"blur"},{pattern:/\S+/,message:"请输入门店登录名",trigger:"blur"}]}}}},filters:{statusFilter:function(t){var e={"已启用":"success","已禁用":"info"};return e[t]}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.tableLoading=!0,setTimeout((function(){t.tableDataList=[{id:1,Store:"北京店",Status:"已启用",Accounts:"xxwx0001",Contacts:"张三丰",Phone:"13011053225",Address:"北京市海淀区"},{id:2,Store:"天津店",Status:"已启用",Accounts:"xxwx0002",Contacts:"张三丰",Phone:"13011053225",Address:"北京市海淀区"},{id:3,Store:"南京店",Status:"已禁用",Accounts:"xxwx0003",Contacts:"张三丰",Phone:"13011053225",Address:"北京市海淀区"}],t.tableLoading=!1}),500)},indexMethod:function(t){return(this.pager.page-1)*this.pager.rows+t+1},handleAddSrore:function(){this.StoreDialog.title="新增门店",this.StoreDialog.visible=!0},handleEditSrore:function(t){this.StoreDialog.title="编辑门店",this.StoreDialog.visible=!0,this.StoreDialog.Form={id:t.id,Store:t.Store,Code:"",Address:t.Address,Location:"",Contacts:t.Contacts,Phone:t.Phone,LoginName:t.Accounts}},handleSubmitStore:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.submitLoading=!0,setTimeout((function(){e.StoreDialog.visible=!1,e.submitLoading=!1,e.$message.success("操作成功"),e.initData()}),500)}))},closeStoreDialog:function(){this.$refs["StoreDialogRef"].resetFields(),this.StoreDialog.Form={id:"",Store:"",Code:"",Address:"",Location:"",Contacts:"",Phone:"",LoginName:""}},handleSettingStore:function(t){this.$router.push("/Account/SettingStore/".concat(t.id,"/").concat(t.Store))},handleEnable:function(t){this.$message.success("操作成功"),this.initData()},handleDisable:function(t){var e=this;this.$confirm("禁用后，该门店将不可使用，确认吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message.success("操作成功"),e.initData()})).catch((function(){}))},handleReset:function(t){var e=this;this.$confirm("确定重置该账号的密码吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message.success("重置成功"),e.initData()})).catch((function(){}))}}}),n=i,l=(o("f009"),o("2877")),s=Object(l["a"])(n,a,r,!1,null,"38a81a26",null);e["default"]=s.exports},f009:function(t,e,o){"use strict";o("3152")}}]);