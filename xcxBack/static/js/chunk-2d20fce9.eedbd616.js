(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20fce9"],{b4cd:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hhy-container"},[a("PageWrap",{scopedSlots:t._u([{key:"tableMenuBtn",fn:function(){return[a("div",{staticClass:"tableMenuBtn"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addBrand}},[t._v("添加品牌")])],1)]},proxy:!0},{key:"default",fn:function(e){return[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"hhy-table",attrs:{height:e.contentHeight+15,data:t.tableDataList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",index:t.indexMethod}}),a("el-table-column",{attrs:{label:"品牌","show-overflow-tooltip":"",prop:"Brand"}}),a("el-table-column",{attrs:{label:"面料商","show-overflow-tooltip":"",prop:"FabricMerchant"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-tag",{attrs:{type:t._f("statusFilter")(n.Status)}},[t._v(t._s(n.Status))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-button",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(e){return t.handleEdit(n)}}},[t._v("编辑")]),"已启用"==n.Status?a("el-button",{attrs:{icon:"el-icon-remove",type:"danger"},on:{click:function(e){return t.handleDisabled(n,!0)}}},[t._v("停用")]):a("el-button",{attrs:{icon:"el-icon-circle-plus",type:"success"},on:{click:function(e){return t.handleDisabled(n,!1)}}},[t._v("启用")])]}}],null,!0)})],1)]}},{key:"tablePagination",fn:function(){return[a("myPagination",{attrs:{pager:t.pager},on:{query:t.initData}})]},proxy:!0}])}),a("el-dialog",{attrs:{title:t.brandDialog.title,visible:t.brandDialog.visible,width:"450px"},on:{"update:visible":function(e){return t.$set(t.brandDialog,"visible",e)},closed:t.closeBrandDialog}},[a("el-form",{ref:"brandRef",attrs:{model:t.brandDialog.Form,rules:t.brandDialog.Rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"品牌",prop:"brand"}},[a("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"输入品牌名称"},model:{value:t.brandDialog.Form.brand,callback:function(e){t.$set(t.brandDialog.Form,"brand",e)},expression:"brandDialog.Form.brand"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.brandDialog.visible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:function(e){return t.submitBrand("brandRef")}}},[t._v("确 定")])],1)],1)],1)},i=[],r={name:"BrandManagement",data:function(){return{tableLoading:!1,tableDataList:[],pager:{count:100,page:1,rows:15,checkNum:0},submitLoading:!1,brandDialog:{visible:!1,title:"",Form:{id:0,brand:""},Rules:{brand:[{required:!0,message:"请输入品牌名称",trigger:"blur"},{pattern:/\S+/,message:"请输入品牌名称",trigger:"blur"}]}}}},filters:{statusFilter:function(t){var e={"已启用":"success","已停用":"danger"};return e[t]}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.tableLoading=!0,setTimeout((function(){t.tableDataList=[{id:1,Brand:"啄木鸟",FabricMerchant:"面料商1",Status:"已启用"},{id:2,Brand:"耐克",FabricMerchant:"面料商2",Status:"已停用"},{id:3,Brand:"乔丹",FabricMerchant:"面料商3",Status:"已启用"}],t.tableLoading=!1}),500)},indexMethod:function(t){return(this.pager.page-1)*this.pager.rows+t+1},addBrand:function(){this.brandDialog.title="新增品牌",this.brandDialog.visible=!0},handleEdit:function(t){this.brandDialog.Form.id=t.id,this.brandDialog.Form.brand=t.Brand,this.brandDialog.title="编辑品牌",this.brandDialog.visible=!0},submitBrand:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.submitLoading=!0,setTimeout((function(){e.submitLoading=!1,e.brandDialog.visible=!1,e.$message.success("操作成功"),e.initData()}),500)}))},closeBrandDialog:function(){this.$refs.brandRef.resetFields(),this.brandDialog.Form={id:0,brand:""}},handleDisabled:function(t,e){t.Status=e?"已停用":"已启用"}}},l=r,o=a("2877"),s=Object(o["a"])(l,n,i,!1,null,"2ec298b2",null);e["default"]=s.exports}}]);