(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d32c9e7"],{"07ac":function(t,e,i){var o=i("23e7"),r=i("6f53").values;o({target:"Object",stat:!0},{values:function(t){return r(t)}})},1148:function(t,e,i){"use strict";var o=i("a691"),r=i("1d80");t.exports="".repeat||function(t){var e=String(r(this)),i="",a=o(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(i+=e);return i}},"408a":function(t,e,i){var o=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=o(t))throw TypeError("Incorrect invocation");return+t}},4318:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hhy-container"},[i("PageWrap",{scopedSlots:t._u([{key:"tableMenuBtn",fn:function(){return[i("div",{staticClass:"tableMenuBtn"},[i("div",{staticClass:"hhy-tips"},[i("p",[t._v(t._s(t.Name)+" - 工艺选项")])]),i("el-button",{attrs:{type:"",icon:"el-icon-back"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleAddProcessOption}},[t._v("添加")])],1)]},proxy:!0},{key:"default",fn:function(e){return[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"hhy-table",attrs:{height:e.contentHeight+30,data:t.tableDataList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),i("el-table-column",{attrs:{label:"名称",prop:"name","min-width":"120","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[i("el-image",{staticStyle:{width:"60px",height:"60px"},attrs:{src:e.img,"preview-src-list":[e.img]}})]}}],null,!0)}),i("el-table-column",{attrs:{label:"成本",prop:"cost"}}),i("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[i("el-tag",{attrs:{type:t._f("statusFilter")(o.status)}},[t._v(t._s(o.status))])]}}],null,!0)}),i("el-table-column",{attrs:{label:"限定工厂","min-width":"150","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[o.restrictedFactory.name?i("el-tag",{attrs:{closable:""},on:{close:function(e){return t.handleCloseTag(o)}}},[t._v(t._s(o.restrictedFactory.name)+"：￥"+t._s(o.restrictedFactory.price))]):i("span",[t._v("-")])]}}],null,!0)}),i("el-table-column",{attrs:{label:"创建时间",prop:"createTime","min-width":"200","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"操作",fixed:"right",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.row;return[i("el-button",{attrs:{icon:"el-icon-edit",type:"warning"},on:{click:function(e){return t.handleEditProcessOption(o)}}},[t._v("编辑")]),i("el-button",{attrs:{icon:"el-icon-setting",type:"primary"},on:{click:function(e){return t.handleRestrictedFactory(o)}}},[t._v("限定工厂")]),"已禁用"==o.status?i("el-button",{attrs:{icon:"el-icon-turn-off",type:"success"},on:{click:function(e){return t.handleEnable(o)}}},[t._v("启用")]):t._e(),"已启用"==o.status?i("el-button",{attrs:{icon:"el-icon-open",type:"danger"},on:{click:function(e){return t.handleDisable(o)}}},[t._v("禁用")]):t._e(),i("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(e){return t.handleDelete(o)}}},[t._v("删除")])]}}],null,!0)})],1)]}}])}),i("el-dialog",{attrs:{title:t.editProcessDialog.title,top:"8vh",visible:t.editProcessDialog.visible,width:"550px"},on:{"update:visible":function(e){return t.$set(t.editProcessDialog,"visible",e)},closed:t.closeEditProcessDialog}},[i("el-form",{ref:"editProcessRef",staticClass:"editProcessDialog",attrs:{model:t.editProcessDialog.Form,inline:!1,rules:t.editProcessDialog.Rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"选项名称",prop:"option"}},[i("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"请输入选项名称"},model:{value:t.editProcessDialog.Form.option,callback:function(e){t.$set(t.editProcessDialog.Form,"option",e)},expression:"editProcessDialog.Form.option"}})],1),i("el-form-item",{attrs:{label:"选项图片",prop:"technologyName"}},[i("myUpload",{model:{value:t.editProcessDialog.Form.optionImg,callback:function(e){t.$set(t.editProcessDialog.Form,"optionImg",e)},expression:"editProcessDialog.Form.optionImg"}})],1),i("el-form-item",{attrs:{label:"制作工费",prop:"costs"}},[i("el-input",{attrs:{maxlength:"8",clearable:"",placeholder:"请输入制作工费",oninput:"this.value = this.value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g,'$1')"},model:{value:t.editProcessDialog.Form.costs,callback:function(e){t.$set(t.editProcessDialog.Form,"costs",e)},expression:"editProcessDialog.Form.costs"}})],1),i("el-form-item",{attrs:{label:"默认选项",prop:"defaultOption"}},[i("el-checkbox",{model:{value:t.editProcessDialog.Form.defaultOption,callback:function(e){t.$set(t.editProcessDialog.Form,"defaultOption",e)},expression:"editProcessDialog.Form.defaultOption"}})],1)],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.editProcessDialog.visible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:function(e){return t.handleSubmitEditProcess("editProcessRef")}}},[t._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"指定工艺供应商",top:"8vh",visible:t.restrictedFactoryDialog.visible,width:"550px"},on:{"update:visible":function(e){return t.$set(t.restrictedFactoryDialog,"visible",e)},closed:t.closeRestrictedFactoryDialog}},[i("el-form",{ref:"restrictedFactoryDialogRef",staticClass:"editProcessDialog",attrs:{model:t.restrictedFactoryDialog.Form,inline:!1,rules:t.restrictedFactoryDialog.Rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"工艺选项",prop:"optionName"}},[t._v(" "+t._s(t.restrictedFactoryDialog.Form.optionName)+" ")]),i("el-form-item",{attrs:{label:"工厂",prop:"factoryID"}},[i("el-select",{attrs:{placeholder:"请选择工厂",filterable:"",clearable:""},model:{value:t.restrictedFactoryDialog.Form.factoryID,callback:function(e){t.$set(t.restrictedFactoryDialog.Form,"factoryID",e)},expression:"restrictedFactoryDialog.Form.factoryID"}},t._l(t.restrictedFactoryDialog.factoryList,(function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"制作工费",prop:"costs"}},[i("el-input",{attrs:{maxlength:"8",clearable:"",placeholder:"请输入制作工费",oninput:"this.value = this.value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g,'$1')"},model:{value:t.restrictedFactoryDialog.Form.costs,callback:function(e){t.$set(t.restrictedFactoryDialog.Form,"costs",e)},expression:"restrictedFactoryDialog.Form.costs"}})],1)],1),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.restrictedFactoryDialog.visible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:function(e){return t.handleSubmitFactory("restrictedFactoryDialogRef")}}},[t._v("确 定")])],1)],1)],1)},r=[],a=(i("b0c0"),i("2a36")),s={name:"",components:{myUpload:a["a"]},data:function(){return{ID:"",Name:"",submitLoading:!1,tableLoading:!1,tableDataList:[],editProcessDialog:{title:"",visible:!1,Form:{option:"",optionImg:"",costs:"",defaultOption:!1},Rules:{option:[{required:!0,message:"请输入选项名称",trigger:"blur"},{pattern:/\S+/,message:"请输入选项名称",trigger:"blur"}]}},restrictedFactoryDialog:{visible:!1,factoryList:[{id:1,name:"北京厂"}],Form:{optionName:"",factoryID:"",costs:""},Rules:{factoryID:[{required:!0,message:"请选择工厂",trigger:"change"}]}}}},filters:{statusFilter:function(t){var e={"已启用":"success","已禁用":"info"};return e[t]}},created:function(){this.ID=this.$route.query&&this.$route.query.id,this.Name=this.$route.query&&this.$route.query.name,this.$message.success("当前ID为".concat(this.ID)),this.initData()},methods:{initData:function(){var t=this;this.tableLoading=!0,setTimeout((function(){t.tableDataList=[{id:1,name:"F-01:八字领",img:"https://www.fabrics-buy.com/API_Upload/Images/Factory/FabricStock/20210826171323_4642.jpg",cost:"-",status:"已启用",restrictedFactory:{},createTime:"2023-11-12 12:12:12"},{id:2,name:"F-02:一字领",img:"https://www.fabrics-buy.com/API_Upload/Images/Factory/FabricStock/20210826171323_4642.jpg",cost:"-",status:"已禁用",restrictedFactory:{name:"北京厂",price:800},createTime:"2023-11-12 12:12:12"}],t.tableLoading=!1}),500)},handleCloseTag:function(t){var e=this;this.$confirm("确认删除限定工厂吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.restrictedFactory={},e.$message.success("删除成功"),e.initData()})).catch((function(){}))},handleAddProcessOption:function(){this.editProcessDialog.title="新增工艺选项",this.editProcessDialog.visible=!0},handleEditProcessOption:function(t){this.editProcessDialog.title="编辑工艺选项",this.editProcessDialog.Form.option=t.name,this.editProcessDialog.visible=!0},handleSubmitEditProcess:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.submitLoading=!0,setTimeout((function(){e.editProcessDialog.visible=!1,e.submitLoading=!1,e.$message.success("操作成功"),e.initData()}),500)}))},closeEditProcessDialog:function(){this.$refs["editProcessRef"].resetFields(),this.editProcessDialog.title="",this.editProcessDialog.Form.option="",this.editProcessDialog.Form.optionImg="",this.editProcessDialog.Form.costs="",this.editProcessDialog.Form.defaultOption=!1},handleRestrictedFactory:function(t){this.restrictedFactoryDialog.visible=!0,this.restrictedFactoryDialog.Form.optionName=t.name},handleSubmitFactory:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.submitLoading=!0,setTimeout((function(){e.restrictedFactoryDialog.visible=!1,e.submitLoading=!1,e.$message.success("操作成功"),e.initData()}),500)}))},closeRestrictedFactoryDialog:function(){this.$refs["restrictedFactoryDialogRef"].resetFields(),this.restrictedFactoryDialog.Form.optionName="",this.restrictedFactoryDialog.Form.factoryID="",this.restrictedFactoryDialog.Form.costs=""},handleEnable:function(t){this.$message.success("操作成功"),this.initData()},handleDisable:function(t){var e=this;this.$confirm("禁用后，该工艺选项将不可使用，确认吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message.success("操作成功"),e.initData()})).catch((function(){}))},handleDelete:function(t){var e=this;this.$confirm("确认删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message.success("删除成功"),e.initData()})).catch((function(){}))}}},n=s,l=(i("ffb1"),i("2877")),c=Object(l["a"])(n,o,r,!1,null,"0bd538fe",null);e["default"]=c.exports},"6f53":function(t,e,i){var o=i("83ab"),r=i("df75"),a=i("fc6a"),s=i("d1e7").f,n=function(t){return function(e){var i,n=a(e),l=r(n),c=l.length,u=0,d=[];while(c>u)i=l[u++],o&&!s.call(n,i)||d.push(t?[i,n[i]]:n[i]);return d}};t.exports={entries:n(!0),values:n(!1)}},"9f92":function(t,e,i){},b680:function(t,e,i){"use strict";var o=i("23e7"),r=i("a691"),a=i("408a"),s=i("1148"),n=i("d039"),l=1..toFixed,c=Math.floor,u=function(t,e,i){return 0===e?i:e%2===1?u(t,e-1,i*t):u(t*t,e/2,i)},d=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},f=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){l.call({})}));o({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,i,o,n,l=a(this),f=r(t),m=[0,0,0,0,0,0],g="",p="0",h=function(t,e){var i=-1,o=e;while(++i<6)o+=t*m[i],m[i]=o%1e7,o=c(o/1e7)},b=function(t){var e=6,i=0;while(--e>=0)i+=m[e],m[e]=c(i/t),i=i%t*1e7},y=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==m[t]){var i=String(m[t]);e=""===e?i:e+s.call("0",7-i.length)+i}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(e=d(l*u(2,69,1))-69,i=e<0?l*u(2,-e,1):l/u(2,e,1),i*=4503599627370496,e=52-e,e>0){h(0,i),o=f;while(o>=7)h(1e7,0),o-=7;h(u(10,o,1),0),o=e-1;while(o>=23)b(1<<23),o-=23;b(1<<o),h(1,1),b(2),p=y()}else h(0,i),h(1<<-e,0),p=y()+s.call("0",f);return f>0?(n=p.length,p=g+(n<=f?"0."+s.call("0",f-n)+p:p.slice(0,n-f)+"."+p.slice(n-f))):p=g+p,p}})},ffb1:function(t,e,i){"use strict";i("9f92")}}]);