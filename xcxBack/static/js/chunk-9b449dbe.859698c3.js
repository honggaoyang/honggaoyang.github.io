(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b449dbe"],{"0158":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hhy-container"},[a("PageWrap",{scopedSlots:e._u([{key:"pageTop",fn:function(){return[a("el-form",{ref:"searchForm",staticClass:"hhy-card hhy-topSearch-box",attrs:{inline:"",model:e.searchForm}},[a("el-form-item",{attrs:{label:"类型",prop:"product"}},[a("el-select",{attrs:{placeholder:"类型"},model:{value:e.searchForm.product,callback:function(t){e.$set(e.searchForm,"product",t)},expression:"searchForm.product"}},e._l(e.productList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{clearable:"",placeholder:"名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initData(t)}},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),a("el-form-item",{attrs:{label:"货号",prop:"artNo"}},[a("el-input",{attrs:{clearable:"",placeholder:"货号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initData(t)}},model:{value:e.searchForm.artNo,callback:function(t){e.$set(e.searchForm,"artNo",t)},expression:"searchForm.artNo"}})],1),a("el-form-item",{attrs:{label:"面料号",prop:"fabricNo"}},[a("el-input",{attrs:{clearable:"",placeholder:"面料号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initData(t)}},model:{value:e.searchForm.fabricNo,callback:function(t){e.$set(e.searchForm,"fabricNo",t)},expression:"searchForm.fabricNo"}})],1),a("el-form-item",[a("el-button",{staticClass:"hhy-search-btn",attrs:{type:"primary",round:""},on:{click:e.initData}},[e._v("查询")]),a("el-button",{staticClass:"hhy-reset-btn",attrs:{type:"danger",round:""},on:{click:function(t){return e.resetSearchForm("searchForm")}}},[e._v("重置")])],1)],1)]},proxy:!0},{key:"tableMenuBtn",fn:function(){return[a("div",{staticClass:"tableMenuBtn"},[a("el-tabs",{on:{"tab-click":e.handleMenuClick},model:{value:e.activeMenuName,callback:function(t){e.activeMenuName=t},expression:"activeMenuName"}},[a("el-tab-pane",{attrs:{label:"上架中",name:"上架中"}}),a("el-tab-pane",{attrs:{label:"已下架",name:"已下架"}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addProduct}},[e._v("添加成品")])],1)]},proxy:!0},{key:"default",fn:function(t){return[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"hhy-table",attrs:{height:t.contentHeight,data:e.tableDataList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"成品","min-width":"250"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"product_wrap"},[a("div",[a("el-image",{attrs:{src:n.productImg,"preview-src-list":[n.productImg]}})],1),a("div",[a("span",[e._v(e._s(n.productName))]),a("div",[a("el-tag",{attrs:{type:"info"}},[e._v("货号："+e._s(n.artNo))])],1),n.isSuit?a("div",[a("el-tag",{attrs:{type:"primary"}},[e._v("套装")])],1):e._e()])])]}}],null,!0)}),a("el-table-column",{attrs:{label:"面料","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.fabricBrand?a("el-tag",{attrs:{type:"info"}},[e._v("面料品牌："+e._s(n.fabricBrand))]):e._e(),n.fabricNo?a("el-tag",{attrs:{type:"info"}},[e._v("面料号："+e._s(n.fabricNo))]):e._e()]}}],null,!0)}),a("el-table-column",{attrs:{label:"规格(库存:本地/平台)","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[n.specifications.length>0?a("div",e._l(n.specifications,(function(t,n){return a("el-tag",{key:n,attrs:{type:"primary"}},[e._v(e._s(t.color)+" "+e._s(t.size)+" - 库存："+e._s(t.inventory))])})),1):e._e()]}}],null,!0)}),a("el-table-column",{attrs:{label:"状态","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:e._f("statusFilter")(n.status)}},[e._v(e._s(n.status))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"租赁",prop:"lease","min-width":"120"}}),a("el-table-column",{attrs:{label:"销量",prop:"sales","min-width":"120"}}),a("el-table-column",{attrs:{label:"价格（元）",prop:"price","min-width":"120"}}),a("el-table-column",{attrs:{label:"成本价（元）",prop:"cosePrice","min-width":"120"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"上架中"==e.activeMenuName?300:400},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[["上架中","已下架"].includes(e.activeMenuName)?a("el-button",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(t){return e.editProduct(n)}}},[e._v("编辑")]):e._e(),["上架中"].includes(e.activeMenuName)?a("el-button",{attrs:{icon:"el-icon-bottom",type:"danger"},on:{click:function(t){return e.handleDown(n)}}},[e._v("下架")]):e._e(),["上架中"].includes(e.activeMenuName)?a("el-dropdown",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"warning"}},[e._v(" 库管"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("入库")]),a("el-dropdown-item",[e._v("出库")]),a("el-dropdown-item",[e._v("查看详情")])],1)],1):e._e(),["已下架"].includes(e.activeMenuName)?a("el-button",{attrs:{icon:"el-icon-top",type:"success"},on:{click:function(t){return e.handleUp(n)}}},[e._v("上架")]):e._e(),["已下架"].includes(e.activeMenuName)?a("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(t){return e.handleDel(n)}}},[e._v("删除")]):e._e()]}}],null,!0)})],1)]}},{key:"tablePagination",fn:function(){return[a("myPagination",{attrs:{pager:e.pager},on:{query:e.initData}})]},proxy:!0}])})],1)},i=[],r={name:"FinishedProductManage",data:function(){return{productList:[{id:1,name:"全部"},{id:2,name:"上衣"}],searchForm:{product:1,name:"",artNo:"",fabricNo:""},activeMenuName:"上架中",tableLoading:!1,tableDataList:[],pager:{count:100,page:1,rows:15,checkNum:0}}},filters:{statusFilter:function(e){var t={"上架中":"success","已下架":"info"};return t[e]}},created:function(){this.initData()},methods:{resetSearchForm:function(e){this.$refs[e].resetFields()},handleMenuClick:function(e,t){this.tableDataList=[],this.initData()},initData:function(){var e=this;this.tableLoading=!0,setTimeout((function(){var t=[];"上架中"==e.activeMenuName?t=[{id:1,productImg:"https://chenjiedingzhi.oss-cn-shanghai.aliyuncs.com/upload/ginger_image/1/2023_05_16_13_15_38.80620.jpg?x-oss-process=image/resize,w_200/quality,q_80",productName:"POLO衫经典款",artNo:"abdfe",isSuit:!0,fabricBrand:"乌贼休闲",fabricNo:"066-920-06",specifications:[{color:"蓝色",size:41,inventory:"20 / 200"},{color:"红色",size:42,inventory:"133 / 235"}],status:"上架中",lease:"",sales:"",price:"9.34",cosePrice:"5.55"},{id:2,productImg:"https://chenjiedingzhi.oss-cn-shanghai.aliyuncs.com/upload/ginger_image/1/2023_06_16_10_16_32.54595.jpg?x-oss-process=image/resize,w_200/quality,q_80",productName:"POLO衫经典款",artNo:"abdfe",isSuit:!0,fabricBrand:"乌贼休闲",fabricNo:"066-920-06",specifications:[{color:"红色",size:41,inventory:"20 / 200"}],status:"上架中",lease:"",sales:"",price:"9.34",cosePrice:"5.55"},{id:3,productImg:"https://chenjiedingzhi.oss-cn-shanghai.aliyuncs.com/upload/ginger_image/1/2023_05_16_13_15_38.80620.jpg?x-oss-process=image/resize,w_200/quality,q_80",productName:"POLO衫经典款",artNo:"abdfe",isSuit:!1,fabricBrand:"乌贼休闲",fabricNo:"066-920-06",specifications:[{color:"蓝色",size:41,inventory:"20 / 200"},{color:"红色",size:42,inventory:"133 / 235"}],status:"上架中",lease:"",sales:"",price:"9.34",cosePrice:"5.55"}]:"已下架"==e.activeMenuName&&(t=[{id:1,productImg:"https://chenjiedingzhi.oss-cn-shanghai.aliyuncs.com/upload/ginger_image/1/2023_05_16_13_15_38.80620.jpg?x-oss-process=image/resize,w_200/quality,q_80",productName:"POLO衫经典款",artNo:"abdfe",isSuit:!0,fabricBrand:"乌贼休闲",fabricNo:"066-920-06",specifications:[{color:"蓝色",size:41,inventory:"20 / 200"},{color:"红色",size:42,inventory:"133 / 235"}],status:"已下架",lease:"",sales:"",price:"9.34",cosePrice:"5.55"}]),e.tableDataList=t,e.tableLoading=!1}),500)},indexMethod:function(e){return(this.pager.page-1)*this.pager.rows+e+1},addProduct:function(){this.$router.push({name:"AddFinishedProduct"})},editProduct:function(e){this.$router.push({name:"EditFinishedProduct",params:{id:e.id}})},handleDown:function(e){this.$message.success("下架成功")},handleUp:function(e){this.$message.success("上架成功")},handleDel:function(e){var t=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message.success("删除成功"),t.initData()})).catch((function(){}))}}},o=r,s=(a("1e37"),a("2877")),c=Object(s["a"])(o,n,i,!1,null,"37d7ab62",null);t["default"]=c.exports},"0ffd":function(e,t,a){},"1e37":function(e,t,a){"use strict";a("0ffd")}}]);