(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-971c945a"],{"070a":function(t,e,a){},5629:function(t,e,a){"use strict";a("070a")},c71c:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hhy-container"},[a("PageWrap",{scopedSlots:t._u([{key:"pageTop",fn:function(){return[a("el-form",{ref:"searchForm",staticClass:"hhy-card hhy-topSearch-box",attrs:{inline:"",model:t.searchForm}},[a("el-form-item",{attrs:{label:"工厂名称",prop:"searchForm"}},[a("el-input",{attrs:{clearable:"",placeholder:"输入工厂名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initData(e)}},model:{value:t.searchForm.searchForm,callback:function(e){t.$set(t.searchForm,"searchForm",e)},expression:"searchForm.searchForm"}})],1),a("el-form-item",[a("el-button",{staticClass:"hhy-search-btn",attrs:{type:"primary",round:""},on:{click:t.initData}},[t._v("查询")]),a("el-button",{staticClass:"hhy-reset-btn",attrs:{type:"danger",round:""},on:{click:function(e){return t.resetSearchForm("searchForm")}}},[t._v("重置")])],1)],1)]},proxy:!0},{key:"tableMenuBtn",fn:function(){return[a("div",{staticClass:"tableMenuBtn"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.AddFactoryDialog.visible=!0}}},[t._v("添加工厂")]),a("el-button",{attrs:{type:"warning",icon:"el-icon-edit-outline"},on:{click:function(e){t.ApplyFactoryDialog.visible=!0}}},[t._v("申请工厂")])],1)]},proxy:!0},{key:"default",fn:function(e){return[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"hhy-table",attrs:{height:e.contentHeight,data:t.tableDataList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",index:t.indexMethod}}),a("el-table-column",{attrs:{label:"工厂","min-width":"150","show-overflow-tooltip":"",prop:"factoryName"}}),a("el-table-column",{attrs:{label:"显示别名","min-width":"100",prop:"alias","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"状态","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("el-tag",{attrs:{type:t._f("statusFilter")(l.status)}},[t._v(t._s(l.status))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"联系人","min-width":"100",prop:"contacts","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"联系电话","min-width":"110",prop:"phone"}}),a("el-table-column",{attrs:{label:"地址","min-width":"150",prop:"address","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return[a("el-button",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(e){return t.setCosts(l)}}},[t._v("设置费用")]),a("el-button",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(e){return t.setAlias(l)}}},[t._v("设置别名")]),a("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(e){return t.handleDel(l)}}},[t._v("删除")])]}}],null,!0)})],1)]}},{key:"tablePagination",fn:function(){return[a("myPagination",{attrs:{pager:t.pager},on:{query:t.initData}})]},proxy:!0}])}),a("el-dialog",{attrs:{title:"添加工厂",visible:t.AddFactoryDialog.visible,width:"850px"},on:{"update:visible":function(e){return t.$set(t.AddFactoryDialog,"visible",e)},closed:t.closeAddFactoryDialog}},[a("div",[a("div",{staticClass:"AddFactorySearch"},[a("el-input",{attrs:{placeholder:"输入工厂名称",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleAddFactorySearch(e)}},model:{value:t.AddFactoryDialog.Search,callback:function(e){t.$set(t.AddFactoryDialog,"Search",e)},expression:"AddFactoryDialog.Search"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:t.handleAddFactorySearch},slot:"append"})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.AddFactoryDialog.tableLoading,expression:"AddFactoryDialog.tableLoading"}],staticClass:"hhy-table",attrs:{height:"350px",data:t.AddFactoryDialog.TableList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{label:"工厂","min-width":"100","show-overflow-tooltip":"",prop:"FactoryName"}}),a("el-table-column",{attrs:{label:"联系人","min-width":"100",prop:"Name","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"联系电话","min-width":"110",prop:"Phone"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.row;return["添加"==l.status?a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(e){return t.handleAddFactory(l)}}},[t._v("添加")]):a("el-button",{attrs:{disabled:"",type:"primary"}},[t._v("已添加")])]}}])})],1)],1)]),a("el-dialog",{attrs:{title:"申请工厂",visible:t.ApplyFactoryDialog.visible,width:"450px"},on:{"update:visible":function(e){return t.$set(t.ApplyFactoryDialog,"visible",e)},closed:t.closeApplyFactoryDialog}},[a("el-form",{ref:"ApplyFactoryRef",attrs:{model:t.ApplyFactoryDialog.Form,rules:t.ApplyFactoryDialog.ApplyFactoryRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"工厂",prop:"FactoryName"}},[a("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"输入工厂名称"},model:{value:t.ApplyFactoryDialog.Form.FactoryName,callback:function(e){t.$set(t.ApplyFactoryDialog.Form,"FactoryName",e)},expression:"ApplyFactoryDialog.Form.FactoryName"}})],1),a("el-form-item",{attrs:{label:"联系人",prop:"Name"}},[a("el-input",{attrs:{maxlength:"10",clearable:"",placeholder:"输入工厂联系人"},model:{value:t.ApplyFactoryDialog.Form.Name,callback:function(e){t.$set(t.ApplyFactoryDialog.Form,"Name",e)},expression:"ApplyFactoryDialog.Form.Name"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"Phone"}},[a("el-input",{attrs:{maxlength:"11",clearable:"",placeholder:"输入工厂联系电话",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.ApplyFactoryDialog.Form.Phone,callback:function(e){t.$set(t.ApplyFactoryDialog.Form,"Phone",e)},expression:"ApplyFactoryDialog.Form.Phone"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.ApplyFactoryDialog.visible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:function(e){return t.handleSubmitApplyFactory("ApplyFactoryRef")}}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"工厂别名",visible:t.aliasDialog.visible,width:"450px"},on:{"update:visible":function(e){return t.$set(t.aliasDialog,"visible",e)},closed:t.closeAliasDialog}},[a("el-form",{ref:"aliasRef",attrs:{model:t.aliasDialog.aliasForm,rules:t.aliasDialog.aliasRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"显示别名",prop:"name"}},[a("el-input",{attrs:{maxlength:"30",clearable:"",placeholder:"输入工厂别名"},model:{value:t.aliasDialog.aliasForm.name,callback:function(e){t.$set(t.aliasDialog.aliasForm,"name",e)},expression:"aliasDialog.aliasForm.name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.aliasDialog.visible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:function(e){return t.submitAlias("aliasRef")}}},[t._v("确 定")])],1)],1)],1)},o=[],i=(a("498a"),a("b0c0"),{name:"Factory",data:function(){return{searchForm:{name:""},tableLoading:!1,tableDataList:[],pager:{count:100,page:1,rows:15,checkNum:0},submitLoading:!1,AddFactoryDialog:{visible:!1,Search:"",tableLoading:!1,TableList:[]},ApplyFactoryDialog:{visible:!1,Form:{FactoryName:"",Name:"",Phone:""},ApplyFactoryRules:{FactoryName:[{required:!0,message:"请输入工厂名称",trigger:"blur"},{pattern:/\S+/,message:"请输入工厂名称",trigger:"blur"}],Name:[{required:!0,message:"请输入工厂联系人",trigger:"blur"},{pattern:/\S+/,message:"请输入工厂联系人",trigger:"blur"}],Phone:[{required:!0,message:"请输入工厂联系电话",trigger:"blur"},{pattern:/^1[3|4|5|7|8][0-9]\d{8}$/,message:"请输入正确的手机号",trigger:"blur"}]}},aliasDialog:{visible:!1,aliasForm:{name:""},aliasRules:{name:[{required:!0,message:"请输入工厂别名",trigger:"blur"},{pattern:/\S+/,message:"请输入工厂别名",trigger:"blur"}]}}}},filters:{statusFilter:function(t){var e={"已启用":"success","已禁用":"danger"};return e[t]}},created:function(){this.initData()},methods:{resetSearchForm:function(t){this.$refs[t].resetFields()},initData:function(){var t=this;this.tableLoading=!0,setTimeout((function(){t.tableDataList=[{id:1,factoryName:"衣洲服饰",alias:"衣洲有限服饰",status:"已启用",contacts:"张无忌",phone:"13011053225",address:"浙江省宁波市奉化区恒峰路33号3楼衣洲服饰有限公司"},{id:2,factoryName:"简云服饰",alias:"简云有限服饰",status:"已启用",contacts:"张无忌",phone:"13011053225",address:"浙江省宁波市奉化区恒峰路33号3楼衣洲服饰有限公司"},{id:3,factoryName:"泰兴市盛于蓝服饰厂",alias:"衣洲有限服饰",status:"已启用",contacts:"张无忌",phone:"13011053225",address:"浙江省宁波市奉化区恒峰路33号3楼衣洲服饰有限公司"},{id:4,factoryName:"鲁泰纺织",alias:"",status:"已启用",contacts:"张无忌",phone:"13011053225",address:"浙江省宁波市奉化区恒峰路33号3楼衣洲服饰有限公司"},{id:5,factoryName:"万邦服装",alias:"衣洲有限服饰",status:"已启用",contacts:"张无忌",phone:"13011053225",address:"浙江省宁波市奉化区恒峰路33号3楼衣洲服饰有限公司"}],t.tableLoading=!1}),500)},indexMethod:function(t){return(this.pager.page-1)*this.pager.rows+t+1},handleAddFactorySearch:function(){var t=this;if(!this.AddFactoryDialog.Search.trim())return this.$message.error("请输入工厂名称");this.AddFactoryDialog.tableLoading=!0,setTimeout((function(){t.AddFactoryDialog.TableList=[{id:1,FactoryName:"绍兴市蓝思服饰科技有限公司",status:"添加",Name:"无极",Phone:"13011053225"},{id:2,FactoryName:"绍兴市蓝思服饰科技有限公司",status:"添加",Name:"无极",Phone:"13011053225"},{id:3,FactoryName:"绍兴市蓝思服饰科技有限公司",status:"添加",Name:"无极",Phone:"13011053225"},{id:4,FactoryName:"绍兴市蓝思服饰科技有限公司",status:"添加",Name:"无极",Phone:"13011053225"},{id:5,FactoryName:"绍兴市蓝思服饰科技有限公司",status:"添加",Name:"无极",Phone:"13011053225"}],t.AddFactoryDialog.tableLoading=!1}),500)},handleAddFactory:function(t){t.status="已添加"},closeAddFactoryDialog:function(){this.AddFactoryDialog.TableList=[],this.AddFactoryDialog.Search="",this.initData()},handleSubmitApplyFactory:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.submitLoading=!0,setTimeout((function(){e.submitLoading=!1,e.ApplyFactoryDialog.visible=!1,e.$message.success("添加成功")}),500)}))},closeApplyFactoryDialog:function(){this.$refs.ApplyFactoryRef.resetFields()},setCosts:function(t){this.$router.push({name:"FactoryCosts",query:{id:t.id}})},setAlias:function(t){this.aliasDialog.aliasForm.name=t.alias,this.aliasDialog.visible=!0},submitAlias:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.submitLoading=!0,setTimeout((function(){e.submitLoading=!1,e.aliasDialog.visible=!1,e.$message.success("设置成功"),e.initData()}),500)}))},closeAliasDialog:function(){this.$refs.aliasRef.resetFields()},handleDel:function(t){var e=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message.success("删除成功"),e.initData()})).catch((function(){}))}}}),r=i,s=(a("5629"),a("2877")),n=Object(s["a"])(r,l,o,!1,null,"dfe6df9c",null);e["default"]=n.exports}}]);