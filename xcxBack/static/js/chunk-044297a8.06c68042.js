(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-044297a8"],{5268:function(e,i,t){},6391:function(e,i,t){"use strict";t("5268")},b91e:function(e,i,t){"use strict";t.r(i);var a=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"hhy-container"},[t("PageWrap",{scopedSlots:e._u([{key:"tableMenuBtn",fn:function(){return[t("div",{staticClass:"tableMenuBtn"},[t("el-tabs",{on:{"tab-click":e.handleMenuClick},model:{value:e.activeMenuName,callback:function(i){e.activeMenuName=i},expression:"activeMenuName"}},e._l(e.MenuList,(function(e){return t("el-tab-pane",{key:e.id,attrs:{label:e.name,name:e.name}})})),1),t("div",{staticClass:"topMenuBtn"},[t("div",[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAddPriceRangeDialog}},[e._v("添加价格区间")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-setting"},on:{click:e.handleOpenBatchChangePrice}},[e._v("批量调价")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-coin"},on:{click:e.handleOpenSyncPrice}},[e._v("同步价格")])],1),t("div",[t("el-link",{attrs:{type:"primary"},on:{click:function(i){return e.$router.push("/CustomizedProducts/CustomizedProducts")}}},[e._v("管理定制产品"),t("i",{staticClass:"el-icon-right el-icon--right"})])],1)])],1)]},proxy:!0},{key:"default",fn:function(i){return[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"hhy-table",attrs:{height:i.contentHeight+30,data:e.tableDataList,"element-loading-text":"加载中...",stripe:"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{label:"价格区间",prop:"PriceRange"}}),t("el-table-column",{attrs:{label:"定制价"},scopedSlots:e._u([{key:"default",fn:function(i){var t=i.row;return[e._v(" ￥ "+e._s(t.CustomizedPrice)+" ")]}}],null,!0)}),t("el-table-column",{attrs:{label:"最后更新",prop:"LastUpdateTime"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.row;return[t("el-button",{attrs:{icon:"el-icon-edit",type:"primary"},on:{click:function(i){return e.handleEditPriceRangeDialog(a)}}},[e._v("编辑")]),t("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:function(i){return e.handleDelete(a)}}},[e._v("删除")])]}}],null,!0)})],1)]}}])}),t("el-dialog",{attrs:{title:e.PriceRangeDialog.title,visible:e.PriceRangeDialog.visible,width:"450px"},on:{"update:visible":function(i){return e.$set(e.PriceRangeDialog,"visible",i)},closed:e.closePriceRangeDialog}},[t("el-form",{ref:"PriceRangeFormRef",attrs:{model:e.PriceRangeDialog.Form,rules:e.PriceRangeDialog.Rules,"label-width":"110px"}},[t("el-form-item",{attrs:{label:"起始价(超过)",prop:"startPrice"}},[t("el-input",{attrs:{maxlength:"8",clearable:"",placeholder:"输入起始价",oninput:"this.value = this.value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g,'$1')"},model:{value:e.PriceRangeDialog.Form.startPrice,callback:function(i){e.$set(e.PriceRangeDialog.Form,"startPrice",i)},expression:"PriceRangeDialog.Form.startPrice"}})],1),t("el-form-item",{attrs:{label:"定制价",prop:"CustomizedPrice"}},[t("el-input",{attrs:{maxlength:"8",clearable:"",placeholder:"输入定制价",oninput:"this.value = this.value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g,'$1')"},model:{value:e.PriceRangeDialog.Form.CustomizedPrice,callback:function(i){e.$set(e.PriceRangeDialog.Form,"CustomizedPrice",i)},expression:"PriceRangeDialog.Form.CustomizedPrice"}})],1)],1),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(i){e.PriceRangeDialog.visible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{loading:e.submitLoading,type:"primary"},on:{click:function(i){return e.handlePriceRange("PriceRangeFormRef")}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"批量改价",visible:e.BatchChangePriceDialog.visible,width:"450px"},on:{"update:visible":function(i){return e.$set(e.BatchChangePriceDialog,"visible",i)},closed:e.closeBatchChangePriceDialog}},[t("el-form",{ref:"BatchChangePriceRef",attrs:{model:e.BatchChangePriceDialog.Form,rules:e.BatchChangePriceDialog.Rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"调价比例",prop:"ratio"}},[t("div",{staticClass:"flex_wrap"},[t("el-input",{attrs:{maxlength:"8",clearable:"",placeholder:"输入调价比例",oninput:"this.value = this.value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g,'$1')"},model:{value:e.BatchChangePriceDialog.Form.ratio,callback:function(i){e.$set(e.BatchChangePriceDialog.Form,"ratio",i)},expression:"BatchChangePriceDialog.Form.ratio"}}),t("span",[e._v("%")])],1)])],1),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(i){e.BatchChangePriceDialog.visible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{loading:e.submitLoading,type:"primary"},on:{click:function(i){return e.handleBatchChangePrice("BatchChangePriceRef")}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"同步价格项",visible:e.SyncPriceDialog.visible,width:"450px"},on:{"update:visible":function(i){return e.$set(e.SyncPriceDialog,"visible",i)},closed:e.closeSyncPriceDialog}},[t("el-form",{ref:"SyncPriceDialogRef",attrs:{model:e.SyncPriceDialog.Form,rules:e.SyncPriceDialog.Rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"定制产品",prop:"product"}},[t("el-select",{attrs:{placeholder:"选择定制产品",clearable:"",filterable:""},model:{value:e.SyncPriceDialog.Form.product,callback:function(i){e.$set(e.SyncPriceDialog.Form,"product",i)},expression:"SyncPriceDialog.Form.product"}},e._l(e.MenuList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"调价比例",prop:"SyncPriceRatio"}},[t("div",{staticClass:"flex_wrap"},[t("el-input",{attrs:{maxlength:"8",clearable:"",placeholder:"输入调价比例",oninput:"this.value = this.value.replace(/^\\D*(\\d*(?:\\.\\d{0,2})?).*$/g,'$1')"},model:{value:e.SyncPriceDialog.Form.SyncPriceRatio,callback:function(i){e.$set(e.SyncPriceDialog.Form,"SyncPriceRatio",i)},expression:"SyncPriceDialog.Form.SyncPriceRatio"}}),t("span",[e._v("%")])],1)])],1),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(i){e.SyncPriceDialog.visible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{loading:e.submitLoading,type:"primary"},on:{click:function(i){return e.handleSyncPrice("SyncPriceDialogRef")}}},[e._v("确 定")])],1)],1)],1)},n=[],r={name:"PricingSystem",data:function(){return{submitLoading:!1,MenuList:[{id:1,name:"制服四件套"},{id:2,name:"西服两件套"},{id:3,name:"西服三件套"},{id:4,name:"西服"},{id:5,name:"西裤"},{id:6,name:"马甲"},{id:7,name:"衬衫"},{id:8,name:"大衣"},{id:9,name:"风衣"},{id:10,name:"夹克"},{id:11,name:"针织纱"}],activeMenuName:"制服四件套",tableLoading:!1,tableDataList:[],PriceRangeDialog:{id:"",title:"",visible:!1,Form:{startPrice:"",CustomizedPrice:""},Rules:{startPrice:[{required:!0,message:"请输入起始价",trigger:"blur"}],CustomizedPrice:[{required:!0,message:"请输入定制价",trigger:"blur"}]}},BatchChangePriceDialog:{visible:!1,Form:{ratio:""},Rules:{ratio:[{required:!0,message:"请输入调价比例",trigger:"blur"}]}},SyncPriceDialog:{visible:!1,Form:{product:"",SyncPriceRatio:""},Rules:{product:[{required:!0,message:"请选择定制产品",trigger:"change"}],SyncPriceRatio:[{required:!0,message:"请输入调价比例",trigger:"blur"}]}}}},created:function(){this.initData()},methods:{handleMenuClick:function(e,i){this.tableDataList=[],this.initData()},initData:function(){var e=this;this.tableLoading=!0,setTimeout((function(){var i=[];i="制服四件套"==e.activeMenuName?[{id:1,PriceRange:"¥ 0.01 ~ ¥ 55.00",CustomizedPrice:"834.40",LastUpdateTime:"2022-07-16 16:38:51"},{id:2,PriceRange:"¥ 0.01 ~ ¥ 55.00",CustomizedPrice:"834.40",LastUpdateTime:"2022-07-16 16:38:51"},{id:3,PriceRange:"¥ 0.01 ~ ¥ 55.00",CustomizedPrice:"834.40",LastUpdateTime:"2022-07-16 16:38:51"},{id:4,PriceRange:"¥ 0.01 ~ ¥ 55.00",CustomizedPrice:"834.40",LastUpdateTime:"2022-07-16 16:38:51"},{id:5,PriceRange:"¥ 0.01 ~ ¥ 55.00",CustomizedPrice:"834.40",LastUpdateTime:"2022-07-16 16:38:51"}]:"西服两件套"==e.activeMenuName?[{id:1,PriceRange:"¥ 0.01 ~ ¥ 55.00",CustomizedPrice:"834.40",LastUpdateTime:"2022-07-16 16:38:51"},{id:2,PriceRange:"¥ 0.01 ~ ¥ 55.00",CustomizedPrice:"834.40",LastUpdateTime:"2022-07-16 16:38:51"}]:"西服三件套"==e.activeMenuName?[{id:1,PriceRange:"¥ 0.01 ~ ¥ 55.00",CustomizedPrice:"834.40",LastUpdateTime:"2022-07-16 16:38:51"},{id:2,PriceRange:"¥ 0.01 ~ ¥ 55.00",CustomizedPrice:"834.40",LastUpdateTime:"2022-07-16 16:38:51"},{id:3,PriceRange:"¥ 0.01 ~ ¥ 55.00",CustomizedPrice:"834.40",LastUpdateTime:"2022-07-16 16:38:51"}]:[{id:1,PriceRange:"¥ 0.01 ~ ¥ 55.00",CustomizedPrice:"834.40",LastUpdateTime:"2022-07-16 16:38:51"}],e.tableDataList=i,e.tableLoading=!1}),500)},handleAddPriceRangeDialog:function(){this.PriceRangeDialog.title="新增价格项",this.PriceRangeDialog.visible=!0},handleEditPriceRangeDialog:function(e){this.PriceRangeDialog.title="编辑价格项",this.PriceRangeDialog.id=e.id,this.PriceRangeDialog.Form.CustomizedPrice=e.CustomizedPrice,this.PriceRangeDialog.visible=!0},handlePriceRange:function(e){var i=this;this.$refs[e].validate((function(e){if(!e)return!1;i.submitLoading=!0,setTimeout((function(){i.PriceRangeDialog.visible=!1,i.submitLoading=!1,i.$message.success("操作成功"),i.initData()}),500)}))},closePriceRangeDialog:function(){this.$refs["PriceRangeFormRef"].resetFields(),this.PriceRangeDialog.Form={startPrice:"",CustomizedPrice:""}},handleOpenBatchChangePrice:function(){this.BatchChangePriceDialog.visible=!0},handleBatchChangePrice:function(e){var i=this;this.$refs[e].validate((function(e){if(!e)return!1;i.submitLoading=!0,setTimeout((function(){i.BatchChangePriceDialog.visible=!1,i.submitLoading=!1,i.$message.success("操作成功"),i.initData()}),500)}))},closeBatchChangePriceDialog:function(){this.$refs["BatchChangePriceRef"].resetFields(),this.BatchChangePriceDialog.Form.ratio=""},handleOpenSyncPrice:function(){this.SyncPriceDialog.visible=!0},handleSyncPrice:function(e){var i=this;this.$refs[e].validate((function(e){if(!e)return!1;i.submitLoading=!0,setTimeout((function(){i.SyncPriceDialog.visible=!1,i.submitLoading=!1,i.$message.success("操作成功"),i.initData()}),500)}))},closeSyncPriceDialog:function(){this.$refs["SyncPriceDialogRef"].resetFields(),this.SyncPriceDialog.Form.product="",this.SyncPriceDialog.Form.SyncPriceRatio=""},handleDelete:function(e){var i=this;this.$confirm("确认删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.$message.success("删除成功"),i.initData()})).catch((function(){}))}}},l=r,c=(t("6391"),t("2877")),o=Object(c["a"])(l,a,n,!1,null,"4046caf7",null);i["default"]=o.exports}}]);